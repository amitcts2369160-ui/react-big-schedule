{"version":3,"file":"12.bundle.js","mappings":"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","sources":["webpack://react-big-schedule/./src/config/default.js","webpack://react-big-schedule/./src/sample-data/sample1.js","webpack://react-big-schedule/./src/components/EventItemPopover.jsx","webpack://react-big-schedule/./src/components/EventItem.jsx","webpack://react-big-schedule/./src/components/DnDSource.js","webpack://react-big-schedule/./src/components/AddMorePopover.jsx","webpack://react-big-schedule/./src/components/AgendaEventItem.jsx","webpack://react-big-schedule/./src/components/AgendaResourceEvents.jsx","webpack://react-big-schedule/./src/components/AgendaView.jsx","webpack://react-big-schedule/./src/components/BodyView.jsx","webpack://react-big-schedule/./src/helper/utility.js","webpack://react-big-schedule/./src/components/DnDContext.js","webpack://react-big-schedule/./src/components/AddMore.jsx","webpack://react-big-schedule/./src/components/SelectedArea.jsx","webpack://react-big-schedule/./src/components/Summary.jsx","webpack://react-big-schedule/./src/components/ResourceEvents.jsx","webpack://react-big-schedule/./src/components/ResourceView.jsx","webpack://react-big-schedule/./src/config/scheduler.js","webpack://react-big-schedule/./src/helper/behaviors.js","webpack://react-big-schedule/./src/components/SchedulerData.js","webpack://react-big-schedule/./src/components/SchedulerHeader.jsx","webpack://react-big-schedule/./src/components/WrapperFun.jsx","webpack://react-big-schedule/./src/components/HeaderView.jsx","webpack://react-big-schedule/./src/components/index.jsx","webpack://react-big-schedule/./src/examples/components/SourceCode.jsx"],"sourcesContent":["export const DATE_FORMAT = 'YYYY-MM-DD';\r\n\r\nexport const DATETIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\r\n\r\nexport const ViewType = { Day: 0, Week: 1, Month: 2, Quarter: 3, Year: 4, Custom: 5, Custom1: 6, Custom2: 7 };\r\n\r\nexport const CellUnit = { Day: 0, Hour: 1, Week: 2, Month: 3, Year: 4 };\r\n\r\nexport const SummaryPos = { Top: 0, TopRight: 1, TopLeft: 2, Bottom: 3, BottomRight: 4, BottomLeft: 5 };\r\n\r\nexport const DnDTypes = { EVENT: 'event' };\r\n","const DemoData = {\r\n  resources: [\r\n    { id: 'r0', name: 'Resource0', title: 'Resource 0', groupOnly: true },\r\n    { id: 'r1', name: 'Resource1', title: 'Resource 1', parentId: 'r0' },\r\n    { id: 'r2', name: 'Resource2', parentId: 'r3' },\r\n    { id: 'r3', name: 'Resource3', parentId: 'r1' },\r\n    { id: 'r4', name: 'Resource4' },\r\n    { id: 'r5', name: 'Resource5' },\r\n    { id: 'r6', name: 'Resource6' },\r\n    { id: 'r7', name: 'Resource7' },\r\n  ],\r\n  events: [\r\n    {\r\n      id: 1,\r\n      start: '2022-12-18 09:30:00',\r\n      end: '2022-12-19 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'I am finished',\r\n      bgColor: '#D9D9D9',\r\n      showPopover: false,\r\n    },\r\n    {\r\n      id: 2,\r\n      start: '2022-12-18 12:30:00',\r\n      end: '2022-12-26 23:30:00',\r\n      resourceId: 'r2',\r\n      title: 'I am not resizable',\r\n      resizable: false,\r\n    },\r\n    {\r\n      id: 3,\r\n      start: '2022-12-19 12:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r3',\r\n      title: 'I am not movable',\r\n      movable: false,\r\n    },\r\n    {\r\n      id: 4,\r\n      start: '2022-12-19 14:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r4',\r\n      title: 'I am not start-resizable',\r\n      startResizable: false,\r\n    },\r\n    {\r\n      id: 5,\r\n      start: '2022-12-19 15:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r5',\r\n      title: 'I am not end-resizable',\r\n      endResizable: false,\r\n    },\r\n    {\r\n      id: 6,\r\n      start: '2022-12-19 15:35:00',\r\n      end: '2022-12-19 23:30:00',\r\n      resourceId: 'r6',\r\n      title: 'I am normal',\r\n    },\r\n    {\r\n      id: 7,\r\n      start: '2022-12-19 15:40:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r7',\r\n      title: 'I am exceptional',\r\n      bgColor: '#FA9E95',\r\n    },\r\n    {\r\n      id: 8,\r\n      start: '2022-12-19 15:50:00',\r\n      end: '2022-12-19 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'I am locked',\r\n      movable: false,\r\n      resizable: false,\r\n      bgColor: 'red',\r\n    },\r\n    {\r\n      id: 9,\r\n      start: '2022-12-19 16:30:00',\r\n      end: '2022-12-27 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 1',\r\n    },\r\n    {\r\n      id: 10,\r\n      start: '2022-12-19 17:30:00',\r\n      end: '2022-12-19 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has recurring tasks every week on Tuesday, Friday',\r\n      rrule: 'FREQ=WEEKLY;DTSTART=20221219T013000Z;BYDAY=TU,FR',\r\n      bgColor: '#f759ab',\r\n    },\r\n    {\r\n      id: 11,\r\n      start: '2022-12-19 18:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 3',\r\n    },\r\n    {\r\n      id: 12,\r\n      start: '2022-12-20 18:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 4',\r\n    },\r\n    {\r\n      id: 13,\r\n      start: '2022-12-21 18:30:00',\r\n      end: '2022-12-24 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 5',\r\n    },\r\n    {\r\n      id: 14,\r\n      start: '2022-12-23 18:30:00',\r\n      end: '2022-12-27 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 6',\r\n    },\r\n  ],\r\n  eventsForTaskView: [\r\n    {\r\n      id: 1,\r\n      start: '2022-12-18 09:30:00',\r\n      end: '2022-12-18 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'I am finished',\r\n      bgColor: '#D9D9D9',\r\n      groupId: 1,\r\n      groupName: 'Task1',\r\n    },\r\n    {\r\n      id: 2,\r\n      start: '2022-12-18 12:30:00',\r\n      end: '2022-12-26 23:30:00',\r\n      resourceId: 'r2',\r\n      title: 'I am not resizable',\r\n      resizable: false,\r\n      groupId: 2,\r\n      groupName: 'Task2',\r\n    },\r\n    {\r\n      id: 3,\r\n      start: '2022-12-19 12:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r3',\r\n      title: 'I am not movable',\r\n      movable: false,\r\n      groupId: 3,\r\n      groupName: 'Task3',\r\n    },\r\n    {\r\n      id: 7,\r\n      start: '2022-12-19 15:40:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r7',\r\n      title: 'I am exceptional',\r\n      bgColor: '#FA9E95',\r\n      groupId: 4,\r\n      groupName: 'Task4',\r\n    },\r\n    {\r\n      id: 4,\r\n      start: '2022-12-20 14:30:00',\r\n      end: '2022-12-21 23:30:00',\r\n      resourceId: 'r4',\r\n      title: 'I am not start-resizable',\r\n      startResizable: false,\r\n      groupId: 1,\r\n      groupName: 'Task1',\r\n    },\r\n    {\r\n      id: 5,\r\n      start: '2022-12-21 15:30:00',\r\n      end: '2022-12-22 23:30:00',\r\n      resourceId: 'r5',\r\n      title: 'I am not end-resizable',\r\n      endResizable: false,\r\n      groupId: 3,\r\n      groupName: 'Task3',\r\n    },\r\n    {\r\n      id: 9,\r\n      start: '2022-12-21 16:30:00',\r\n      end: '2022-12-21 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks',\r\n      groupId: 4,\r\n      groupName: 'Task4',\r\n    },\r\n    {\r\n      id: 6,\r\n      start: '2022-12-22 15:35:00',\r\n      end: '2022-12-23 23:30:00',\r\n      resourceId: 'r6',\r\n      title: 'I am normal',\r\n      groupId: 1,\r\n      groupName: 'Task1',\r\n    },\r\n    {\r\n      id: 8,\r\n      start: '2022-12-25 15:50:00',\r\n      end: '2022-12-26 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'I am locked',\r\n      movable: false,\r\n      resizable: false,\r\n      bgColor: 'red',\r\n      groupId: 1,\r\n      groupName: 'Task1',\r\n    },\r\n    {\r\n      id: 10,\r\n      start: '2022-12-26 18:30:00',\r\n      end: '2022-12-26 23:30:00',\r\n      resourceId: 'r2',\r\n      title: 'R2 has many tasks',\r\n      groupId: 4,\r\n      groupName: 'Task4',\r\n    },\r\n    {\r\n      id: 11,\r\n      start: '2022-12-27 18:30:00',\r\n      end: '2022-12-27 23:30:00',\r\n      resourceId: 'r4',\r\n      title: 'R4 has many tasks',\r\n      groupId: 4,\r\n      groupName: 'Task4',\r\n    },\r\n    {\r\n      id: 12,\r\n      start: '2022-12-28 18:30:00',\r\n      end: '2022-12-28 23:30:00',\r\n      resourceId: 'r6',\r\n      title: 'R6 has many tasks',\r\n      groupId: 3,\r\n      groupName: 'Task3',\r\n    },\r\n  ],\r\n  eventsForCustomEventStyle: [\r\n    {\r\n      id: 1,\r\n      start: '2022-12-18 09:30:00',\r\n      end: '2022-12-19 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'I am finished',\r\n      bgColor: '#D9D9D9',\r\n      type: 1,\r\n    },\r\n    {\r\n      id: 2,\r\n      start: '2022-12-18 12:30:00',\r\n      end: '2022-12-26 23:30:00',\r\n      resourceId: 'r2',\r\n      title: 'I am not resizable',\r\n      resizable: false,\r\n      type: 2,\r\n    },\r\n    {\r\n      id: 3,\r\n      start: '2022-12-19 12:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r3',\r\n      title: 'I am not movable',\r\n      movable: false,\r\n      type: 3,\r\n    },\r\n    {\r\n      id: 4,\r\n      start: '2022-12-19 14:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r4',\r\n      title: 'I am not start-resizable',\r\n      startResizable: false,\r\n      type: 1,\r\n    },\r\n    {\r\n      id: 5,\r\n      start: '2022-12-19 15:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r5',\r\n      title: 'I am not end-resizable',\r\n      endResizable: false,\r\n      type: 2,\r\n    },\r\n    {\r\n      id: 6,\r\n      start: '2022-12-19 15:35:00',\r\n      end: '2022-12-19 23:30:00',\r\n      resourceId: 'r6',\r\n      title: 'I am normal',\r\n      type: 3,\r\n    },\r\n    {\r\n      id: 7,\r\n      start: '2022-12-19 15:40:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r7',\r\n      title: 'I am exceptional',\r\n      bgColor: '#FA9E95',\r\n      type: 1,\r\n    },\r\n    {\r\n      id: 8,\r\n      start: '2022-12-19 15:50:00',\r\n      end: '2022-12-19 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'I am locked',\r\n      movable: false,\r\n      resizable: false,\r\n      bgColor: 'red',\r\n      type: 2,\r\n    },\r\n    {\r\n      id: 9,\r\n      start: '2022-12-19 16:30:00',\r\n      end: '2022-12-27 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 1',\r\n      type: 3,\r\n    },\r\n    {\r\n      id: 10,\r\n      start: '2022-12-20 18:30:00',\r\n      end: '2022-12-20 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 2',\r\n      type: 1,\r\n    },\r\n    {\r\n      id: 11,\r\n      start: '2022-12-21 18:30:00',\r\n      end: '2022-12-22 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 3',\r\n      type: 2,\r\n    },\r\n    {\r\n      id: 12,\r\n      start: '2022-12-23 18:30:00',\r\n      end: '2022-12-27 23:30:00',\r\n      resourceId: 'r1',\r\n      title: 'R1 has many tasks 4',\r\n      type: 3,\r\n    },\r\n  ],\r\n};\r\n\r\nexport default DemoData;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row } from 'antd';\r\n\r\nfunction EventItemPopover({\r\n  schedulerData,\r\n  eventItem,\r\n  title,\r\n  startTime,\r\n  endTime,\r\n  statusColor,\r\n  subtitleGetter,\r\n  viewEventClick,\r\n  viewEventText,\r\n  viewEvent2Click,\r\n  viewEvent2Text,\r\n  eventItemPopoverTemplateResolver,\r\n}) {\r\n  const { localeDayjs, config } = schedulerData;\r\n  const start = localeDayjs(new Date(startTime));\r\n  const end = localeDayjs(new Date(endTime));\r\n\r\n  if (eventItemPopoverTemplateResolver) {\r\n    return eventItemPopoverTemplateResolver(schedulerData, eventItem, title, start, end, statusColor);\r\n  }\r\n\r\n  const subtitle = subtitleGetter ? subtitleGetter(schedulerData, eventItem) : null;\r\n  const showViewEvent = viewEventText && viewEventClick && (eventItem.clickable1 === undefined || eventItem.clickable1);\r\n  const showViewEvent2 = viewEvent2Text && viewEvent2Click && (eventItem.clickable2 === undefined || eventItem.clickable2);\r\n\r\n  const renderViewEvent = (text, clickHandler, marginLeft = 0) => (\r\n    <button\r\n      className=\"header2-text txt-btn-dis\"\r\n      type=\"button\"\r\n      style={{ color: '#108EE9', cursor: 'pointer', marginLeft: `${marginLeft}px` }}\r\n      onClick={() => clickHandler(schedulerData, eventItem)}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n\r\n  return (\r\n    <div style={{ width: config.eventItemPopoverWidth }}>\r\n      <Row type=\"flex\" align=\"middle\">\r\n        {config.eventItemPopoverShowColor && (\r\n          <Col span={2}>\r\n            <div className=\"status-dot\" style={{ backgroundColor: statusColor }} />\r\n          </Col>\r\n        )}\r\n        <Col span={22} className=\"overflow-text\">\r\n          <span className=\"header2-text\" title={title}>\r\n            {title}\r\n          </span>\r\n        </Col>\r\n      </Row>\r\n      {subtitle && (\r\n        <Row type=\"flex\" align=\"middle\">\r\n          <Col span={2}>\r\n            <div />\r\n          </Col>\r\n          <Col span={22} className=\"overflow-text\">\r\n            <span className=\"header2-text\" title={subtitle}>\r\n              {subtitle}\r\n            </span>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n      <Row type=\"flex\" align=\"middle\">\r\n        <Col span={2}>\r\n          <div />\r\n        </Col>\r\n        <Col span={22}>\r\n          <span className=\"header1-text\">{start.format('HH:mm')}</span>\r\n          {config.eventItemPopoverDateFormat && (\r\n            <span className=\"help-text\" style={{ marginLeft: '8px' }}>\r\n              {start.format(config.eventItemPopoverDateFormat)}\r\n            </span>\r\n          )}\r\n          <span className=\"header2-text\" style={{ marginLeft: '8px' }}>\r\n            -\r\n          </span>\r\n          <span className=\"header1-text\" style={{ marginLeft: '8px' }}>\r\n            {end.format('HH:mm')}\r\n          </span>\r\n          {config.eventItemPopoverDateFormat && (\r\n            <span className=\"help-text\" style={{ marginLeft: '8px' }}>\r\n              {end.format(config.eventItemPopoverDateFormat)}\r\n            </span>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n      {(showViewEvent || showViewEvent2) && (\r\n        <Row type=\"flex\" align=\"middle\">\r\n          <Col span={2}>\r\n            <div />\r\n          </Col>\r\n          <Col span={22}>\r\n            {showViewEvent && renderViewEvent(viewEventText, viewEventClick)}\r\n            {showViewEvent2 && renderViewEvent(viewEvent2Text, viewEvent2Click, 16)}\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nEventItemPopover.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  eventItem: PropTypes.object.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  startTime: PropTypes.string.isRequired,\r\n  endTime: PropTypes.string.isRequired,\r\n  statusColor: PropTypes.string.isRequired,\r\n  subtitleGetter: PropTypes.func,\r\n  viewEventClick: PropTypes.func,\r\n  viewEventText: PropTypes.string,\r\n  viewEvent2Click: PropTypes.func,\r\n  viewEvent2Text: PropTypes.string,\r\n  eventItemPopoverTemplateResolver: PropTypes.func,\r\n};\r\n\r\nexport default EventItemPopover;\r\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable no-return-assign */\r\nimport { Popover } from 'antd';\r\nimport { PropTypes } from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport { CellUnit, DATETIME_FORMAT, DnDTypes } from '../config/default';\r\nimport EventItemPopover from './EventItemPopover';\r\n\r\nconst stopDragHelper = ({ count, cellUnit, config, dragType, eventItem, localeDayjs, value }) => {\r\n  const whileTrue = true;\r\n  let tCount = 0;\r\n  let i = 0;\r\n  let result = value;\r\n  return new Promise(resolve => {\r\n    if (count !== 0 && cellUnit !== CellUnit.Hour && config.displayWeekend === false) {\r\n      while (whileTrue) {\r\n        i = count > 0 ? i + 1 : i - 1;\r\n        const date = localeDayjs(new Date(eventItem[dragType])).add(i, 'days');\r\n        const dayOfWeek = date.day();\r\n\r\n        if (dayOfWeek !== 0 && dayOfWeek !== 6) {\r\n          tCount = count > 0 ? tCount + 1 : tCount - 1;\r\n          if (tCount === count) {\r\n            result = date.format(DATETIME_FORMAT);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    resolve(result);\r\n  });\r\n};\r\n\r\nconst startResizable = ({ eventItem, isInPopover, schedulerData }) => schedulerData.config.startResizable === true\r\n  && isInPopover === false\r\n  && (eventItem.resizable === undefined || eventItem.resizable !== false)\r\n  && (eventItem.startResizable === undefined || eventItem.startResizable !== false);\r\n\r\nconst endResizable = ({ eventItem, isInPopover, schedulerData }) => schedulerData.config.endResizable === true\r\n  && isInPopover === false\r\n  && (eventItem.resizable === undefined || eventItem.resizable !== false)\r\n  && (eventItem.endResizable === undefined || eventItem.endResizable !== false);\r\n\r\nclass EventItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { left, top, width } = props;\r\n    this.state = { left, top, width, contentMousePosX: 0, eventItemLeftRect: 0, eventItemRightRect: 0 };\r\n    this.startResizer = undefined;\r\n    this.endResizer = undefined;\r\n\r\n    this.supportTouch = false; // 'ontouchstart' in window;\r\n\r\n    this.eventItemRef = React.createRef();\r\n    this._isMounted = false;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    this.supportTouch = 'ontouchstart' in window;\r\n    this.subscribeResizeEvent(this.props);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps !== this.props) {\r\n      const { left, top, width } = this.props;\r\n      this.setState({ left, top, width });\r\n\r\n      this.subscribeResizeEvent(this.props);\r\n    }\r\n  }\r\n\r\n  resizerHelper = (dragType, eventType = 'addEventListener') => {\r\n    const resizer = dragType === 'start' ? this.startResizer : this.endResizer;\r\n    const doDrag = dragType === 'start' ? this.doStartDrag : this.doEndDrag;\r\n    const stopDrag = dragType === 'start' ? this.stopStartDrag : this.stopEndDrag;\r\n    const cancelDrag = dragType === 'start' ? this.cancelStartDrag : this.cancelEndDrag;\r\n    if (this.supportTouch) {\r\n      resizer[eventType]('touchmove', doDrag, false);\r\n      resizer[eventType]('touchend', stopDrag, false);\r\n      resizer[eventType]('touchcancel', cancelDrag, false);\r\n    } else {\r\n      document.documentElement[eventType]('mousemove', doDrag, false);\r\n      document.documentElement[eventType]('mouseup', stopDrag, false);\r\n    }\r\n  };\r\n\r\n  initDragHelper = (ev, dragType) => {\r\n    const { schedulerData, eventItem } = this.props;\r\n    const slotId = schedulerData._getEventSlotId(eventItem);\r\n    const slot = schedulerData.getSlotById(slotId);\r\n    if (!!slot && !!slot.groupOnly) return;\r\n    if (schedulerData._isResizing()) return;\r\n\r\n    ev.stopPropagation();\r\n    let clientX = 0;\r\n    if (this.supportTouch) {\r\n      if (ev.changedTouches.length === 0) return;\r\n      const touch = ev.changedTouches[0];\r\n      clientX = touch.pageX;\r\n    } else {\r\n      if (ev.buttons !== undefined && ev.buttons !== 1) return;\r\n      clientX = ev.clientX;\r\n    }\r\n    this.setState({ [dragType === 'start' ? 'startX' : 'endX']: clientX });\r\n\r\n    schedulerData._startResizing();\r\n    this.resizerHelper(dragType, 'addEventListener');\r\n    document.onselectstart = () => false;\r\n    document.ondragstart = () => false;\r\n  };\r\n\r\n  initStartDrag = ev => {\r\n    this.initDragHelper(ev, 'start');\r\n  };\r\n\r\n  doStartDrag = ev => {\r\n    ev.stopPropagation();\r\n\r\n    let clientX = 0;\r\n    if (this.supportTouch) {\r\n      if (ev.changedTouches.length === 0) return;\r\n      const touch = ev.changedTouches[0];\r\n      clientX = touch.pageX;\r\n    } else {\r\n      clientX = ev.clientX;\r\n    }\r\n    const { left, width, leftIndex, rightIndex, schedulerData } = this.props;\r\n    const cellWidth = schedulerData.getContentCellWidth();\r\n    const offset = leftIndex > 0 ? 5 : 6;\r\n    const minWidth = cellWidth - offset;\r\n    const maxWidth = rightIndex * cellWidth - offset;\r\n    const { startX } = this.state;\r\n    let newLeft = left + clientX - startX;\r\n    let newWidth = width + startX - clientX;\r\n    if (newWidth < minWidth) {\r\n      newWidth = minWidth;\r\n      newLeft = (rightIndex - 1) * cellWidth + (rightIndex - 1 > 0 ? 2 : 3);\r\n    } else if (newWidth > maxWidth) {\r\n      newWidth = maxWidth;\r\n      newLeft = 3;\r\n    }\r\n\r\n    this.setState({ left: newLeft, width: newWidth });\r\n  };\r\n\r\n  stopStartDrag = async ev => {\r\n    ev.stopPropagation();\r\n    this.resizerHelper('start', 'removeEventListener');\r\n    document.onselectstart = null;\r\n    document.ondragstart = null;\r\n    const { width, left, top, leftIndex, rightIndex, schedulerData, eventItem, updateEventStart, conflictOccurred } = this.props;\r\n    schedulerData._stopResizing();\r\n    const { width: stateWidth } = this.state;\r\n    if (stateWidth === width) return;\r\n\r\n    let clientX = 0;\r\n    if (this.supportTouch) {\r\n      if (ev.changedTouches.length === 0) {\r\n        this.setState({ left, top, width });\r\n        return;\r\n      }\r\n      const touch = ev.changedTouches[0];\r\n      clientX = touch.pageX;\r\n    } else {\r\n      clientX = ev.clientX;\r\n    }\r\n    const { cellUnit, events, config, localeDayjs } = schedulerData;\r\n    const cellWidth = schedulerData.getContentCellWidth();\r\n    const offset = leftIndex > 0 ? 5 : 6;\r\n    const minWidth = cellWidth - offset;\r\n    const maxWidth = rightIndex * cellWidth - offset;\r\n    const { startX } = this.state;\r\n    const newWidth = width + startX - clientX;\r\n    const deltaX = clientX - startX;\r\n    let sign = 1;\r\n    if (deltaX < 0) {\r\n      sign = -1;\r\n    } else if (deltaX === 0) {\r\n      sign = 0;\r\n    }\r\n    let count = (sign > 0 ? Math.floor(Math.abs(deltaX) / cellWidth) : Math.ceil(Math.abs(deltaX) / cellWidth)) * sign;\r\n    if (newWidth < minWidth) count = rightIndex - leftIndex - 1;\r\n    else if (newWidth > maxWidth) count = -leftIndex;\r\n    let newStart = localeDayjs(new Date(eventItem.start))\r\n      .add(cellUnit === CellUnit.Hour ? count * config.minuteStep : count, cellUnit === CellUnit.Hour ? 'minutes' : 'days')\r\n      .format(DATETIME_FORMAT);\r\n\r\n    newStart = await stopDragHelper({\r\n      count,\r\n      cellUnit,\r\n      config,\r\n      eventItem,\r\n      localeDayjs,\r\n      dragType: 'start',\r\n      value: newStart,\r\n    });\r\n\r\n    let hasConflict = false;\r\n    const slotId = schedulerData._getEventSlotId(eventItem);\r\n    let slotName;\r\n    const slot = schedulerData.getSlotById(slotId);\r\n    if (slot) slotName = slot.name;\r\n    if (config.checkConflict) {\r\n      const start = localeDayjs(new Date(newStart));\r\n      const end = localeDayjs(new Date(eventItem.end));\r\n\r\n      events.forEach(e => {\r\n        if (schedulerData._getEventSlotId(e) === slotId && e.id !== eventItem.id) {\r\n          const eStart = localeDayjs(new Date(e.start));\r\n          const eEnd = localeDayjs(new Date(e.end));\r\n          if ((start >= eStart && start < eEnd) || (end > eStart && end <= eEnd) || (eStart >= start && eStart < end) || (eEnd > start && eEnd <= end)) hasConflict = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    if (hasConflict) {\r\n      this.setState({ left, top, width });\r\n\r\n      if (conflictOccurred !== undefined) {\r\n        conflictOccurred(schedulerData, 'StartResize', eventItem, DnDTypes.EVENT, slotId, slotName, newStart, eventItem.end);\r\n      } else {\r\n        console.log('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\r\n      }\r\n      this.subscribeResizeEvent(this.props);\r\n    } else if (updateEventStart !== undefined) updateEventStart(schedulerData, eventItem, newStart);\r\n  };\r\n\r\n  cancelStartDrag = ev => {\r\n    ev.stopPropagation();\r\n\r\n    this.startResizer.removeEventListener('touchmove', this.doStartDrag, false);\r\n    this.startResizer.removeEventListener('touchend', this.stopStartDrag, false);\r\n    this.startResizer.removeEventListener('touchcancel', this.cancelStartDrag, false);\r\n    document.onselectstart = null;\r\n    document.ondragstart = null;\r\n    const { schedulerData, left, top, width } = this.props;\r\n    schedulerData._stopResizing();\r\n    this.setState({ left, top, width });\r\n  };\r\n\r\n  initEndDrag = ev => {\r\n    this.initDragHelper(ev, 'end');\r\n  };\r\n\r\n  doEndDrag = ev => {\r\n    ev.stopPropagation();\r\n    let clientX = 0;\r\n    if (this.supportTouch) {\r\n      if (ev.changedTouches.length === 0) return;\r\n      const touch = ev.changedTouches[0];\r\n      clientX = touch.pageX;\r\n    } else {\r\n      clientX = ev.clientX;\r\n    }\r\n    const { width, leftIndex, schedulerData } = this.props;\r\n    const { headers } = schedulerData;\r\n    const cellWidth = schedulerData.getContentCellWidth();\r\n    const offset = leftIndex > 0 ? 5 : 6;\r\n    const minWidth = cellWidth - offset;\r\n    const maxWidth = (headers.length - leftIndex) * cellWidth - offset;\r\n    const { endX } = this.state;\r\n\r\n    let newWidth = width + clientX - endX;\r\n    if (newWidth < minWidth) newWidth = minWidth;\r\n    else if (newWidth > maxWidth) newWidth = maxWidth;\r\n\r\n    this.setState({ width: newWidth });\r\n  };\r\n\r\n  stopEndDrag = async ev => {\r\n    ev.stopPropagation();\r\n    this.resizerHelper('end', 'removeEventListener');\r\n\r\n    document.onselectstart = null;\r\n    document.ondragstart = null;\r\n\r\n    const { left, top, width, leftIndex, rightIndex, schedulerData, eventItem, updateEventEnd, conflictOccurred } = this.props;\r\n\r\n    schedulerData._stopResizing();\r\n    const { width: stateWidth } = this.state;\r\n\r\n    if (stateWidth === width) return;\r\n\r\n    let clientX = 0;\r\n    if (this.supportTouch) {\r\n      if (ev.changedTouches.length === 0) {\r\n        this.setState({ left, top, width });\r\n        return;\r\n      }\r\n      const touch = ev.changedTouches[0];\r\n      clientX = touch.pageX;\r\n    } else {\r\n      clientX = ev.clientX;\r\n    }\r\n    const { headers, cellUnit, events, config, localeDayjs } = schedulerData;\r\n\r\n    const cellWidth = schedulerData.getContentCellWidth();\r\n    const offset = leftIndex > 0 ? 5 : 6;\r\n    const minWidth = cellWidth - offset;\r\n    const maxWidth = (headers.length - leftIndex) * cellWidth - offset;\r\n    const { endX } = this.state;\r\n\r\n    const newWidth = width + clientX - endX;\r\n    const deltaX = newWidth - width;\r\n    let sign = 1;\r\n    if (deltaX < 0) {\r\n      sign = -1;\r\n    } else if (deltaX === 0) {\r\n      sign = 0;\r\n    }\r\n\r\n    let count = (sign < 0 ? Math.floor(Math.abs(deltaX) / cellWidth) : Math.ceil(Math.abs(deltaX) / cellWidth)) * sign;\r\n    if (newWidth < minWidth) count = leftIndex - rightIndex + 1;\r\n    else if (newWidth > maxWidth) count = headers.length - rightIndex;\r\n    let newEnd = localeDayjs(new Date(eventItem.end))\r\n      .add(cellUnit === CellUnit.Hour ? count * config.minuteStep : count, cellUnit === CellUnit.Hour ? 'minutes' : 'days')\r\n      .format(DATETIME_FORMAT);\r\n    newEnd = await stopDragHelper({\r\n      dragType: 'end',\r\n      cellUnit,\r\n      config,\r\n      count,\r\n      value: newEnd,\r\n      eventItem,\r\n      localeDayjs,\r\n    });\r\n\r\n    let hasConflict = false;\r\n    const slotId = schedulerData._getEventSlotId(eventItem);\r\n    const slot = schedulerData.getSlotById(slotId);\r\n\r\n    if (config.checkConflict) {\r\n      const start = localeDayjs(new Date(eventItem.start));\r\n      const end = localeDayjs(new Date(newEnd));\r\n\r\n      events.forEach(e => {\r\n        if (schedulerData._getEventSlotId(e) === slotId && e.id !== eventItem.id) {\r\n          const eStart = localeDayjs(new Date(e.start));\r\n          const eEnd = localeDayjs(new Date(e.end));\r\n          if ((start >= eStart && start < eEnd) || (end > eStart && end <= eEnd) || (eStart >= start && eStart < end) || (eEnd > start && eEnd <= end)) {\r\n            hasConflict = true;\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    if (hasConflict) {\r\n      this.setState({ left, top, width });\r\n\r\n      if (conflictOccurred !== undefined) {\r\n        conflictOccurred(schedulerData, 'EndResize', eventItem, DnDTypes.EVENT, slotId, slot ? slot.name : null, eventItem.start, newEnd);\r\n      } else {\r\n        console.error('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\r\n      }\r\n      this.subscribeResizeEvent(this.props);\r\n    } else if (updateEventEnd !== undefined) {\r\n      updateEventEnd(schedulerData, eventItem, newEnd);\r\n    }\r\n  };\r\n\r\n  cancelEndDrag = ev => {\r\n    ev.stopPropagation();\r\n\r\n    this.endResizer.removeEventListener('touchmove', this.doEndDrag, false);\r\n    this.endResizer.removeEventListener('touchend', this.stopEndDrag, false);\r\n    this.endResizer.removeEventListener('touchcancel', this.cancelEndDrag, false);\r\n    document.onselectstart = null;\r\n    document.ondragstart = null;\r\n    const { schedulerData, left, top, width } = this.props;\r\n    schedulerData._stopResizing();\r\n    this.setState({ left, top, width });\r\n  };\r\n\r\n  handleMouseMove = event => {\r\n    const rect = this.eventItemRef.current.getBoundingClientRect();\r\n    this.setState({\r\n      contentMousePosX: event.clientX,\r\n      eventItemLeftRect: rect.left,\r\n      eventItemRightRect: rect.right,\r\n    });\r\n  };\r\n\r\n  subscribeResizeEvent = props => {\r\n    if (this.startResizer !== undefined && this.startResizer !== null) {\r\n      if (this.supportTouch) {\r\n        // this.startResizer.removeEventListener('touchstart', this.initStartDrag, false);\r\n        // if (startResizable(props))\r\n        //     this.startResizer.addEventListener('touchstart', this.initStartDrag, false);\r\n      } else {\r\n        this.startResizer.removeEventListener('mousedown', this.initStartDrag, false);\r\n        if (startResizable(props)) this.startResizer.addEventListener('mousedown', this.initStartDrag, false);\r\n      }\r\n    }\r\n    if (this.endResizer !== undefined && this.endResizer !== null) {\r\n      if (this.supportTouch) {\r\n        // this.endResizer.removeEventListener('touchstart', this.initEndDrag, false);\r\n        // if (endResizable(props))\r\n        //     this.endResizer.addEventListener('touchstart', this.initEndDrag, false);\r\n      } else {\r\n        this.endResizer.removeEventListener('mousedown', this.initEndDrag, false);\r\n        if (endResizable(props)) this.endResizer.addEventListener('mousedown', this.initEndDrag, false);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { eventItem, isStart, isEnd, isInPopover, eventItemClick, schedulerData, isDragging, connectDragSource, connectDragPreview, eventItemTemplateResolver } = this.props;\r\n    const { config, localeDayjs } = schedulerData;\r\n    const { left, width, top } = this.state;\r\n    let roundCls;\r\n    const popoverPlacement = config.eventItemPopoverPlacement;\r\n    const isPopoverPlacementMousePosition = /(top|bottom)(Right|Left)MousePosition/.test(popoverPlacement);\r\n\r\n    if (isStart) {\r\n      roundCls = isEnd ? 'round-all' : 'round-head';\r\n    } else {\r\n      roundCls = isEnd ? 'round-tail' : 'round-none';\r\n    }\r\n    let bgColor = config.defaultEventBgColor;\r\n\r\n    if (eventItem.bgColor) bgColor = eventItem.bgColor;\r\n\r\n    const titleText = schedulerData.behaviors.getEventTextFunc(schedulerData, eventItem);\r\n    const content = <EventItemPopover {...this.props} eventItem={eventItem} title={eventItem.title} startTime={eventItem.start} endTime={eventItem.end} statusColor={bgColor} />;\r\n\r\n    const start = localeDayjs(new Date(eventItem.start));\r\n    const eventTitle = isInPopover ? `${start.format('HH:mm')} ${titleText}` : titleText;\r\n    let startResizeDiv = <div />;\r\n    if (startResizable(this.props)) startResizeDiv = <div className=\"event-resizer event-start-resizer\" ref={ref => (this.startResizer = ref)} />;\r\n    let endResizeDiv = <div />;\r\n    if (endResizable(this.props)) endResizeDiv = <div className=\"event-resizer event-end-resizer\" ref={ref => (this.endResizer = ref)} />;\r\n\r\n    let eventItemTemplate = (\r\n      <div className={`${roundCls} event-item`} key={eventItem.id} style={{ height: config.eventItemHeight, backgroundColor: bgColor }}>\r\n        <span style={{ marginLeft: '10px', lineHeight: `${config.eventItemHeight}px` }}>{eventTitle}</span>\r\n      </div>\r\n    );\r\n    if (eventItemTemplateResolver !== undefined) {\r\n      eventItemTemplate = eventItemTemplateResolver(schedulerData, eventItem, bgColor, isStart, isEnd, 'event-item', config.eventItemHeight, undefined);\r\n    }\r\n\r\n    const a = (\r\n      <a\r\n        className=\"timeline-event\"\r\n        ref={this.eventItemRef}\r\n        onMouseMove={isPopoverPlacementMousePosition ? this.handleMouseMove : undefined}\r\n        style={{ left, width, top }}\r\n        onClick={() => {\r\n          if (eventItemClick) eventItemClick(schedulerData, eventItem);\r\n        }}\r\n      >\r\n        {eventItemTemplate}\r\n        {startResizeDiv}\r\n        {endResizeDiv}\r\n      </a>\r\n    );\r\n\r\n    const getMousePositionOptionsData = () => {\r\n      let popoverOffsetX = 0;\r\n      let mousePositionPlacement = '';\r\n\r\n      if (isPopoverPlacementMousePosition) {\r\n        const isMousePositionPlacementLeft = popoverPlacement.includes('Left');\r\n        const { contentMousePosX } = this.state;\r\n        const popoverWidth = config.eventItemPopoverWidth;\r\n        const { eventItemLeftRect } = this.state;\r\n        const { eventItemRightRect } = this.state;\r\n        let eventItemMousePosX = isMousePositionPlacementLeft ? eventItemLeftRect : eventItemRightRect;\r\n        let posAdjustControl = isMousePositionPlacementLeft ? 1 : -1;\r\n\r\n        mousePositionPlacement = popoverPlacement.replace('MousePosition', '');\r\n\r\n        const distance = 10;\r\n\r\n        if (isMousePositionPlacementLeft && this._isMounted) {\r\n          if (contentMousePosX + popoverWidth + distance > window.innerWidth) {\r\n            mousePositionPlacement = `${popoverPlacement.replace(/(Right|Left).*/, '')}Right`;\r\n            eventItemMousePosX = eventItemRightRect;\r\n            posAdjustControl = -1;\r\n          }\r\n        } else if (contentMousePosX - popoverWidth - distance < 0) {\r\n          mousePositionPlacement = `${popoverPlacement.replace(/(Right|Left).*/, '')}Left`;\r\n          eventItemMousePosX = eventItemLeftRect;\r\n          posAdjustControl = 1;\r\n        }\r\n\r\n        popoverOffsetX = contentMousePosX - eventItemMousePosX - 20 * posAdjustControl;\r\n      }\r\n\r\n      return { popoverOffsetX, mousePositionPlacement };\r\n    };\r\n\r\n    const { popoverOffsetX, mousePositionPlacement } = getMousePositionOptionsData();\r\n\r\n    const aItem = config.dragAndDropEnabled ? connectDragPreview(connectDragSource(a)) : a;\r\n\r\n    if (isDragging ? null : schedulerData._isResizing() || config.eventItemPopoverEnabled === false || eventItem.showPopover === false) {\r\n      return <div>{aItem}</div>;\r\n    }\r\n\r\n    return (\r\n      <Popover\r\n        motion={isPopoverPlacementMousePosition ? '' : undefined}\r\n        align={isPopoverPlacementMousePosition ? { offset: [popoverOffsetX, popoverPlacement.includes('top') ? -10 : 10], overflow: {} } : undefined}\r\n        placement={isPopoverPlacementMousePosition ? mousePositionPlacement : popoverPlacement}\r\n        content={content}\r\n        trigger={config.eventItemPopoverTrigger}\r\n        overlayClassName=\"scheduler-event-item-popover\"\r\n      >\r\n        {aItem}\r\n      </Popover>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EventItem;\r\n\r\nEventItem.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  eventItem: PropTypes.object.isRequired,\r\n  isStart: PropTypes.bool.isRequired,\r\n  isEnd: PropTypes.bool.isRequired,\r\n  left: PropTypes.number.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  top: PropTypes.number.isRequired,\r\n  isInPopover: PropTypes.bool.isRequired,\r\n  leftIndex: PropTypes.number.isRequired,\r\n  rightIndex: PropTypes.number.isRequired,\r\n  isDragging: PropTypes.bool,\r\n  connectDragSource: PropTypes.func,\r\n  connectDragPreview: PropTypes.func,\r\n  updateEventStart: PropTypes.func,\r\n  updateEventEnd: PropTypes.func,\r\n  moveEvent: PropTypes.func,\r\n  subtitleGetter: PropTypes.func,\r\n  eventItemClick: PropTypes.func,\r\n  viewEventClick: PropTypes.func,\r\n  viewEventText: PropTypes.string,\r\n  viewEvent2Click: PropTypes.func,\r\n  viewEvent2Text: PropTypes.string,\r\n  conflictOccurred: PropTypes.func,\r\n  eventItemTemplateResolver: PropTypes.func,\r\n};\r\n\r\nEventItem.defaultProps = {\r\n  isDragging: undefined,\r\n  connectDragSource: undefined,\r\n  connectDragPreview: undefined,\r\n  updateEventStart: undefined,\r\n  updateEventEnd: undefined,\r\n  moveEvent: undefined,\r\n  subtitleGetter: undefined,\r\n  eventItemClick: undefined,\r\n  viewEventClick: undefined,\r\n  viewEventText: undefined,\r\n  viewEvent2Click: undefined,\r\n  viewEvent2Text: undefined,\r\n  conflictOccurred: undefined,\r\n  eventItemTemplateResolver: undefined,\r\n};\r\n","import { DragSource } from 'react-dnd';\r\nimport { DnDTypes, ViewType, DATETIME_FORMAT } from '../config/default';\r\n\r\nexport default class DnDSource {\r\n  constructor(resolveDragObjFunc, DecoratedComponent, DnDEnabled, dndType = DnDTypes.EVENT) {\r\n    this.resolveDragObjFunc = resolveDragObjFunc;\r\n    this.DecoratedComponent = DecoratedComponent;\r\n    this.dndType = dndType;\r\n    this.dragSource = DnDEnabled ? DragSource(this.dndType, this.getDragSpec(), this.getDragCollect)(this.DecoratedComponent) : this.DecoratedComponent;\r\n  }\r\n\r\n  getDragSpec = () => ({\r\n    // beginDrag: (props, monitor, component) => this.resolveDragObjFunc(props),\r\n    beginDrag: props => this.resolveDragObjFunc(props),\r\n    // endDrag: (props, monitor, component) => {\r\n    endDrag: (props, monitor) => {\r\n      if (!monitor.didDrop()) return;\r\n\r\n      const { moveEvent, newEvent, schedulerData } = props;\r\n      const { events, config, viewType, localeDayjs } = schedulerData;\r\n      const item = monitor.getItem();\r\n      const type = monitor.getItemType();\r\n      const dropResult = monitor.getDropResult();\r\n      let { slotId } = dropResult;\r\n      let { slotName } = dropResult;\r\n      let newStart = dropResult.start;\r\n      let newEnd = dropResult.end;\r\n      const { initialStart } = dropResult;\r\n      // const { initialEnd } = dropResult;\r\n      let action = 'New';\r\n\r\n      const isEvent = type === DnDTypes.EVENT;\r\n      if (isEvent) {\r\n        const event = item;\r\n        if (config.relativeMove) {\r\n          newStart = localeDayjs(event.start)\r\n            .add(localeDayjs(newStart).diff(localeDayjs(new Date(initialStart))), 'ms')\r\n            .format(DATETIME_FORMAT);\r\n        } else if (viewType !== ViewType.Day) {\r\n          const tmpDayjs = localeDayjs(newStart);\r\n          newStart = localeDayjs(event.start).year(tmpDayjs.year()).month(tmpDayjs.month()).date(tmpDayjs.date())\r\n            .format(DATETIME_FORMAT);\r\n        }\r\n        newEnd = localeDayjs(newStart)\r\n          .add(localeDayjs(event.end).diff(localeDayjs(event.start)), 'ms')\r\n          .format(DATETIME_FORMAT);\r\n\r\n        // if crossResourceMove disabled, slot returns old value\r\n        if (config.crossResourceMove === false) {\r\n          slotId = schedulerData._getEventSlotId(item);\r\n          slotName = undefined;\r\n          const slot = schedulerData.getSlotById(slotId);\r\n          if (slot) slotName = slot.name;\r\n        }\r\n\r\n        action = 'Move';\r\n      }\r\n\r\n      let hasConflict = false;\r\n      if (config.checkConflict) {\r\n        const start = localeDayjs(newStart);\r\n        const end = localeDayjs(newEnd);\r\n\r\n        events.forEach(e => {\r\n          if (schedulerData._getEventSlotId(e) === slotId && (!isEvent || e.id !== item.id)) {\r\n            const eStart = localeDayjs(e.start);\r\n            const eEnd = localeDayjs(e.end);\r\n            if ((start >= eStart && start < eEnd) || (end > eStart && end <= eEnd) || (eStart >= start && eStart < end) || (eEnd > start && eEnd <= end)) hasConflict = true;\r\n          }\r\n        });\r\n      }\r\n\r\n      if (hasConflict) {\r\n        const { conflictOccurred } = props;\r\n        if (conflictOccurred !== undefined) {\r\n          conflictOccurred(schedulerData, action, item, type, slotId, slotName, newStart, newEnd);\r\n        } else {\r\n          console.log('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\r\n        }\r\n      } else if (isEvent) {\r\n        if (moveEvent !== undefined) {\r\n          moveEvent(schedulerData, item, slotId, slotName, newStart, newEnd);\r\n        }\r\n      } else if (newEvent !== undefined) newEvent(schedulerData, slotId, slotName, newStart, newEnd, type, item);\r\n    },\r\n\r\n    canDrag: props => {\r\n      const { schedulerData, resourceEvents } = props;\r\n      const item = this.resolveDragObjFunc(props);\r\n      if (schedulerData._isResizing()) return false;\r\n      const { config } = schedulerData;\r\n      return config.movable && (resourceEvents === undefined || !resourceEvents.groupOnly) && (item.movable === undefined || item.movable !== false);\r\n    },\r\n  });\r\n\r\n  getDragCollect = (connect, monitor) => ({\r\n    connectDragSource: connect.dragSource(),\r\n    isDragging: monitor.isDragging(),\r\n    connectDragPreview: connect.dragPreview(),\r\n  });\r\n\r\n  getDragSource = () => this.dragSource;\r\n}\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Col, Row } from 'antd';\r\nimport { CloseOutlined } from '@ant-design/icons';\r\nimport EventItem from './EventItem';\r\nimport DnDSource from './DnDSource';\r\n\r\nfunction AddMorePopover(props) {\r\n  const { schedulerData, headerItem, left, top, height, closeAction } = props;\r\n  const { config, localeDayjs } = schedulerData;\r\n  const { time, start, end, events } = headerItem;\r\n\r\n  const [dndSource] = useState(new DnDSource(p => p.eventItem, EventItem, schedulerData.config.dragAndDropEnabled));\r\n\r\n  const header = localeDayjs(new Date(time)).format(config.addMorePopoverHeaderFormat);\r\n  const durationStart = localeDayjs(new Date(start));\r\n  const durationEnd = localeDayjs(end);\r\n  const DnDEventItem = dndSource.getDragSource();\r\n  const eventList = events.map((evt, i) => {\r\n    if (evt !== undefined) {\r\n      const eventStart = localeDayjs(evt.eventItem.start);\r\n      const eventEnd = localeDayjs(evt.eventItem.end);\r\n      const isStart = eventStart >= durationStart;\r\n      const isEnd = eventEnd < durationEnd;\r\n      const eventItemTop = 12 + (i + 1) * config.eventItemLineHeight;\r\n\r\n      return (\r\n        <DnDEventItem\r\n          {...props}\r\n          key={evt.eventItem.id}\r\n          eventItem={evt.eventItem}\r\n          leftIndex={0}\r\n          isInPopover\r\n          isStart={isStart}\r\n          isEnd={isEnd}\r\n          rightIndex={1}\r\n          left={10}\r\n          width={138}\r\n          top={eventItemTop}\r\n        />\r\n      );\r\n    }\r\n    return null;\r\n  });\r\n\r\n  return (\r\n    <div className=\"add-more-popover-overlay\" style={{ left, top, height, width: '170px' }}>\r\n      <Row justify=\"space-between\" align=\"middle\">\r\n        <Col span={22}>\r\n          <span className=\"base-text\">{header}</span>\r\n        </Col>\r\n        <Col span={2}>\r\n          <button type=\"button\" onClick={() => closeAction(undefined)}>\r\n            <CloseOutlined />\r\n          </button>\r\n        </Col>\r\n      </Row>\r\n      {eventList?.filter(Boolean)}\r\n    </div>\r\n  );\r\n}\r\n\r\nAddMorePopover.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  headerItem: PropTypes.object.isRequired,\r\n  left: PropTypes.number.isRequired,\r\n  top: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  closeAction: PropTypes.func.isRequired,\r\n  subtitleGetter: PropTypes.func,\r\n  moveEvent: PropTypes.func,\r\n  eventItemClick: PropTypes.func,\r\n  viewEventClick: PropTypes.func,\r\n  viewEventText: PropTypes.string,\r\n  viewEvent2Click: PropTypes.func,\r\n  viewEvent2Text: PropTypes.string,\r\n  eventItemTemplateResolver: PropTypes.func,\r\n};\r\n\r\nexport default AddMorePopover;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Popover } from 'antd';\r\nimport EventItemPopover from './EventItemPopover';\r\n\r\nfunction AgendaEventItem(props) {\r\n  const { eventItem, isStart, isEnd, eventItemClick, schedulerData, eventItemTemplateResolver } = props;\r\n  const { config, behaviors } = schedulerData;\r\n\r\n  let roundCls = 'round-none';\r\n  if (isStart && isEnd) {\r\n    roundCls = 'round-all';\r\n  } else if (isStart) {\r\n    roundCls = 'round-head';\r\n  } else if (isEnd) {\r\n    roundCls = 'round-tail';\r\n  }\r\n\r\n  const backgroundColor = eventItem.bgColor || config.defaultEventBgColor;\r\n  const titleText = behaviors.getEventTextFunc(schedulerData, eventItem);\r\n\r\n  const eventItemStyle = { height: config.eventItemHeight, maxWidth: config.agendaMaxEventWidth, backgroundColor };\r\n\r\n  let eventItemTemplate = (\r\n    <div className={`${roundCls} event-item`} key={eventItem.id} style={eventItemStyle}>\r\n      <span style={{ marginLeft: '10px', lineHeight: `${config.eventItemHeight}px` }}>{titleText}</span>\r\n    </div>\r\n  );\r\n\r\n  if (eventItemTemplateResolver) {\r\n    eventItemTemplate = eventItemTemplateResolver(schedulerData, eventItem, backgroundColor, isStart, isEnd, 'event-item', config.eventItemHeight, config.agendaMaxEventWidth);\r\n  }\r\n\r\n  const handleClick = () => eventItemClick?.(schedulerData, eventItem);\r\n\r\n  const eventLink = (\r\n    <button type=\"button\" className=\"day-event txt-btn-dis\" onClick={handleClick}>\r\n      {eventItemTemplate}\r\n    </button>\r\n  );\r\n\r\n  const content = <EventItemPopover {...props} title={eventItem.title} startTime={eventItem.start} endTime={eventItem.end} statusColor={backgroundColor} />;\r\n\r\n  return config.eventItemPopoverEnabled ? (\r\n    <Popover placement=\"bottomLeft\" content={content} trigger=\"hover\" overlayClassName=\"scheduler-agenda-event-popover\">\r\n      {eventLink}\r\n    </Popover>\r\n  ) : (\r\n    <span>{eventLink}</span>\r\n  );\r\n}\r\n\r\nAgendaEventItem.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  eventItem: PropTypes.object.isRequired,\r\n  isStart: PropTypes.bool.isRequired,\r\n  isEnd: PropTypes.bool.isRequired,\r\n  subtitleGetter: PropTypes.func,\r\n  eventItemClick: PropTypes.func,\r\n  viewEventClick: PropTypes.func,\r\n  viewEventText: PropTypes.string,\r\n  viewEvent2Click: PropTypes.func,\r\n  viewEvent2Text: PropTypes.string,\r\n  eventItemTemplateResolver: PropTypes.func,\r\n};\r\n\r\nexport default AgendaEventItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AgendaEventItem from './AgendaEventItem';\r\n\r\nfunction AgendaResourceEvents(props) {\r\n  const { schedulerData, resourceEvents, slotClickedFunc, slotItemTemplateResolver } = props;\r\n  const { startDate, endDate, config, localeDayjs } = schedulerData;\r\n  const width = schedulerData.getResourceTableWidth() - 2;\r\n\r\n  const events = resourceEvents.headerItems.flatMap(item => {\r\n    const start = localeDayjs(new Date(startDate));\r\n    const end = localeDayjs(endDate).add(1, 'days');\r\n    const headerStart = localeDayjs(new Date(item.start));\r\n    const headerEnd = localeDayjs(new Date(item.end));\r\n    if (start === headerStart && end === headerEnd) {\r\n      return item.events.map(evt => {\r\n        const durationStart = localeDayjs(new Date(startDate));\r\n        const durationEnd = localeDayjs(endDate).add(1, 'days');\r\n        const eventStart = localeDayjs(evt.eventItem.start);\r\n        const eventEnd = localeDayjs(evt.eventItem.end);\r\n        const isStart = eventStart >= durationStart;\r\n        const isEnd = eventEnd < durationEnd;\r\n        return <AgendaEventItem {...props} key={evt.eventItem.id} eventItem={evt.eventItem} isStart={isStart} isEnd={isEnd} />;\r\n      });\r\n    }\r\n    return [];\r\n  });\r\n\r\n  const slotItemContent = slotClickedFunc ? (\r\n    <button className=\"txt-btn-dis\" type=\"button\" onClick={() => slotClickedFunc(schedulerData, resourceEvents)}>\r\n      {resourceEvents.slotName}\r\n    </button>\r\n  ) : (\r\n    <span>{resourceEvents.slotName}</span>\r\n  );\r\n\r\n  let slotItem = (\r\n    <div style={{ width }} title={resourceEvents.slotTitle || resourceEvents.slotName} className=\"overflow-text header2-text\">\r\n      {slotItemContent}\r\n    </div>\r\n  );\r\n\r\n  if (slotItemTemplateResolver) {\r\n    const temp = slotItemTemplateResolver(schedulerData, resourceEvents, slotClickedFunc, width, 'overflow-text header2-text');\r\n\r\n    if (temp) {\r\n      slotItem = temp;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <tr style={{ minHeight: config.eventItemLineHeight + 2 }}>\r\n      <td data-resource-id={resourceEvents.slotId}>{slotItem}</td>\r\n      <td>\r\n        <div className=\"day-event-container\">{events}</div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nAgendaResourceEvents.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  resourceEvents: PropTypes.object.isRequired,\r\n  subtitleGetter: PropTypes.func,\r\n  eventItemClick: PropTypes.func,\r\n  viewEventClick: PropTypes.func,\r\n  viewEventText: PropTypes.string,\r\n  viewEvent2Click: PropTypes.func,\r\n  viewEvent2Text: PropTypes.string,\r\n  slotClickedFunc: PropTypes.func,\r\n  slotItemTemplateResolver: PropTypes.func,\r\n};\r\n\r\nexport default AgendaResourceEvents;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AgendaResourceEvents from './AgendaResourceEvents';\r\n\r\nfunction AgendaView(props) {\r\n  const { schedulerData } = props;\r\n  const { config, renderData } = schedulerData;\r\n\r\n  const agendaResourceTableWidth = schedulerData.getResourceTableWidth();\r\n  const tableHeaderHeight = schedulerData.getTableHeaderHeight();\r\n  const resourceName = schedulerData.isEventPerspective ? config.taskName : config.resourceName;\r\n  const { agendaViewHeader } = config;\r\n\r\n  const resourceEventsList = renderData.map(item => <AgendaResourceEvents {...props} resourceEvents={item} key={item.slotId} />);\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <table className=\"scheduler-table\">\r\n          <thead>\r\n            <tr style={{ height: tableHeaderHeight }}>\r\n              <th style={{ width: agendaResourceTableWidth }} className=\"header3-text\">\r\n                {resourceName}\r\n              </th>\r\n              <th className=\"header3-text\">{agendaViewHeader}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{resourceEventsList}</tbody>\r\n        </table>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nAgendaView.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  subtitleGetter: PropTypes.func,\r\n  eventItemClick: PropTypes.func,\r\n  viewEventClick: PropTypes.func,\r\n  viewEventText: PropTypes.string,\r\n  viewEvent2Click: PropTypes.func,\r\n  viewEvent2Text: PropTypes.string,\r\n  slotClickedFunc: PropTypes.func,\r\n};\r\n\r\nexport default AgendaView;\r\n","/* eslint-disable jsx-a11y/control-has-associated-label */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction BodyView({ schedulerData }) {\r\n  const { renderData, headers, config, behaviors } = schedulerData;\r\n  const width = schedulerData.getContentCellWidth();\r\n\r\n  const tableRows = renderData\r\n    .filter(o => o.render)\r\n    .map(({ slotId, groupOnly, rowHeight }) => {\r\n      const rowCells = headers.map((header, index) => {\r\n        const key = `${slotId}_${header.time}`;\r\n        const style = index === headers.length - 1 ? {} : { width };\r\n        if (header.nonWorkingTime) {\r\n          style.backgroundColor = config.nonWorkingTimeBodyBgColor;\r\n        }\r\n        if (groupOnly) {\r\n          style.backgroundColor = config.groupOnlySlotColor;\r\n        }\r\n        if (behaviors.getNonAgendaViewBodyCellBgColorFunc) {\r\n          const cellBgColor = behaviors.getNonAgendaViewBodyCellBgColorFunc(schedulerData, slotId, header);\r\n          if (cellBgColor) {\r\n            style.backgroundColor = cellBgColor;\r\n          }\r\n        }\r\n        return (\r\n          <td key={key} style={style}>\r\n            <div />\r\n          </td>\r\n        );\r\n      });\r\n\r\n      return (\r\n        <tr key={slotId} style={{ height: rowHeight }}>\r\n          {rowCells}\r\n        </tr>\r\n      );\r\n    });\r\n\r\n  return <tbody>{tableRows}</tbody>;\r\n}\r\n\r\nBodyView.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default BodyView;\r\n","/* eslint-disable import/prefer-default-export */\r\nexport function getPos(element) {\r\n  let x = 0;\r\n  let y = 0;\r\n  let currentElement = element;\r\n\r\n  while (currentElement) {\r\n    x += currentElement.offsetLeft - currentElement.scrollLeft;\r\n    y += currentElement.offsetTop - currentElement.scrollTop;\r\n    currentElement = currentElement.offsetParent;\r\n  }\r\n\r\n  return { x, y };\r\n}\r\n","import { DropTarget } from 'react-dnd';\r\nimport { DnDTypes, CellUnit, DATETIME_FORMAT, ViewType } from '../config/default';\r\nimport { getPos } from '../helper/utility';\r\n\r\nexport default class DnDContext {\r\n  constructor(sources, DecoratedComponent) {\r\n    this.sourceMap = new Map();\r\n    sources.forEach(item => {\r\n      this.sourceMap.set(item.dndType, item);\r\n    });\r\n    this.DecoratedComponent = DecoratedComponent;\r\n  }\r\n\r\n  extractInitialTimes = (monitor, pos, cellWidth, resourceEvents, cellUnit, localeDayjs) => {\r\n    const initialPoint = monitor.getInitialClientOffset();\r\n    const initialLeftIndex = Math.floor((initialPoint.x - pos.x) / cellWidth);\r\n    const initialStart = resourceEvents.headerItems[initialLeftIndex].start;\r\n    let initialEnd = resourceEvents.headerItems[initialLeftIndex].end;\r\n    if (cellUnit !== CellUnit.Hour) {\r\n      const end = localeDayjs(new Date(initialStart)).hour(23).minute(59).second(59);\r\n      initialEnd = end.format(DATETIME_FORMAT);\r\n    }\r\n    return { initialStart, initialEnd };\r\n  };\r\n\r\n  getDropSpec = () => ({\r\n    drop: (props, monitor, component) => {\r\n      const { schedulerData, resourceEvents } = props;\r\n      const { cellUnit, localeDayjs } = schedulerData;\r\n      const type = monitor.getItemType();\r\n      const pos = getPos(component.eventContainer);\r\n      const cellWidth = schedulerData.getContentCellWidth();\r\n      let initialStartTime = null;\r\n      let initialEndTime = null;\r\n      if (type === DnDTypes.EVENT) {\r\n        const { initialStart, initialEnd } = this.extractInitialTimes(monitor, pos, cellWidth, resourceEvents, cellUnit, localeDayjs);\r\n        initialStartTime = initialStart;\r\n        initialEndTime = initialEnd;\r\n      }\r\n      const point = monitor.getClientOffset();\r\n      const leftIndex = Math.floor((point.x - pos.x) / cellWidth);\r\n      const startTime = resourceEvents.headerItems[leftIndex].start;\r\n      let endTime = resourceEvents.headerItems[leftIndex].end;\r\n      if (cellUnit !== CellUnit.Hour) {\r\n        endTime = localeDayjs(new Date(resourceEvents.headerItems[leftIndex].start)).hour(23).minute(59).second(59)\r\n          .format(DATETIME_FORMAT);\r\n      }\r\n\r\n      return {\r\n        slotId: resourceEvents.slotId,\r\n        slotName: resourceEvents.slotName,\r\n        start: startTime,\r\n        end: endTime,\r\n        initialStart: initialStartTime,\r\n        initialEnd: initialEndTime,\r\n      };\r\n    },\r\n\r\n    hover: (props, monitor, component) => {\r\n      const { schedulerData, resourceEvents, movingEvent } = props;\r\n      const { cellUnit, config, viewType, localeDayjs } = schedulerData;\r\n      this.config = config;\r\n      const item = monitor.getItem();\r\n      const type = monitor.getItemType();\r\n      const pos = getPos(component.eventContainer);\r\n      const cellWidth = schedulerData.getContentCellWidth();\r\n      let initialStart = null;\r\n      // let initialEnd = null;\r\n      if (type === DnDTypes.EVENT) {\r\n        // const { initialStart: iStart, initialEnd: iEnd } = this.extractInitialTimes(monitor, pos, cellWidth, resourceEvents, cellUnit, localeDayjs);\r\n        const { initialStart: iStart } = this.extractInitialTimes(monitor, pos, cellWidth, resourceEvents, cellUnit, localeDayjs);\r\n        initialStart = iStart;\r\n        // initialEnd = iEnd;\r\n      }\r\n\r\n      const point = monitor.getClientOffset();\r\n      const leftIndex = Math.floor((point.x - pos.x) / cellWidth);\r\n      if (!resourceEvents.headerItems[leftIndex]) {\r\n        return;\r\n      }\r\n      let newStart = resourceEvents.headerItems[leftIndex].start;\r\n      let newEnd = resourceEvents.headerItems[leftIndex].end;\r\n      if (cellUnit !== CellUnit.Hour) {\r\n        newEnd = localeDayjs(new Date(resourceEvents.headerItems[leftIndex].start)).hour(23).minute(59).second(59)\r\n          .format(DATETIME_FORMAT);\r\n      }\r\n      let { slotId, slotName } = resourceEvents;\r\n      let action = 'New';\r\n      const isEvent = type === DnDTypes.EVENT;\r\n      if (isEvent) {\r\n        const event = item;\r\n        if (config.relativeMove) {\r\n          newStart = localeDayjs(event.start)\r\n            .add(localeDayjs(newStart).diff(localeDayjs(new Date(initialStart))), 'ms')\r\n            .format(DATETIME_FORMAT);\r\n        } else if (viewType !== ViewType.Day) {\r\n          const tmpDayjs = localeDayjs(newStart);\r\n          newStart = localeDayjs(event.start).year(tmpDayjs.year()).month(tmpDayjs.month()).date(tmpDayjs.date())\r\n            .format(DATETIME_FORMAT);\r\n        }\r\n        newEnd = localeDayjs(newStart)\r\n          .add(localeDayjs(event.end).diff(localeDayjs(event.start)), 'ms')\r\n          .format(DATETIME_FORMAT);\r\n\r\n        // if crossResourceMove disabled, slot returns old value\r\n        if (config.crossResourceMove === false) {\r\n          slotId = schedulerData._getEventSlotId(item);\r\n          slotName = undefined;\r\n          const slot = schedulerData.getSlotById(slotId);\r\n          if (slot) slotName = slot.name;\r\n        }\r\n\r\n        action = 'Move';\r\n      }\r\n\r\n      if (movingEvent) {\r\n        movingEvent(schedulerData, slotId, slotName, newStart, newEnd, action, type, item);\r\n      }\r\n    },\r\n\r\n    canDrop: (props, monitor) => {\r\n      const { schedulerData, resourceEvents } = props;\r\n      const item = monitor.getItem();\r\n      if (schedulerData._isResizing()) return false;\r\n      const { config } = schedulerData;\r\n      return config.movable && !resourceEvents.groupOnly && (item.movable === undefined || item.movable !== false);\r\n    },\r\n  });\r\n\r\n  getDropCollect = (connect, monitor) => ({\r\n    connectDropTarget: connect.dropTarget(),\r\n    isOver: monitor.isOver(),\r\n  });\r\n\r\n  getDropTarget = dragAndDropEnabled => (dragAndDropEnabled ? DropTarget([...this.sourceMap.keys()], this.getDropSpec(), this.getDropCollect)(this.DecoratedComponent) : this.DecoratedComponent);\r\n\r\n  getDndSource = (dndType = DnDTypes.EVENT) => this.sourceMap.get(dndType);\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction AddMore({ schedulerData, number, left, width, top, clickAction, headerItem }) {\r\n  const { config } = schedulerData;\r\n  const content = `+${number} more`;\r\n\r\n  return (\r\n    <button type=\"button\" className=\"timeline-event\" style={{ left, width, top }} onClick={() => clickAction(headerItem)}>\r\n      <div style={{ height: config.eventItemHeight, color: '#999', textAlign: 'center' }}>{content}</div>\r\n    </button>\r\n  );\r\n}\r\n\r\nAddMore.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  number: PropTypes.number.isRequired,\r\n  left: PropTypes.number.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  top: PropTypes.number.isRequired,\r\n  clickAction: PropTypes.func.isRequired,\r\n  headerItem: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default AddMore;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nfunction SelectedArea({ left, width, schedulerData }) {\r\n  const { config } = schedulerData;\r\n\r\n  const selectedAreaStyle = {\r\n    left,\r\n    width,\r\n    top: 0,\r\n    bottom: 0,\r\n    backgroundColor: config.selectedAreaColor,\r\n  };\r\n\r\n  return <div className=\"selected-area\" style={selectedAreaStyle} />;\r\n}\r\n\r\nSelectedArea.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  left: PropTypes.number.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default SelectedArea;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { SummaryPos } from '../config/default';\r\n\r\nfunction Summary({ schedulerData, summary, left, width, top }) {\r\n  const { config } = schedulerData;\r\n  const color = summary.color !== undefined ? summary.color : config.summaryColor;\r\n  let textAlign = 'center';\r\n\r\n  if (config.summaryPos === SummaryPos.TopRight || config.summaryPos === SummaryPos.BottomRight) {\r\n    textAlign = 'right';\r\n  } else if (config.summaryPos === SummaryPos.TopLeft || config.summaryPos === SummaryPos.BottomLeft) {\r\n    textAlign = 'left';\r\n  }\r\n\r\n  const style = {\r\n    height: config.eventItemHeight,\r\n    color,\r\n    textAlign,\r\n    marginLeft: '6px',\r\n    marginRight: '6px',\r\n    ...(summary.fontSize !== undefined ? { fontSize: summary.fontSize } : {}),\r\n  };\r\n\r\n  return (\r\n    <div className=\"timeline-event header2-text\" style={{ left, width, top, cursor: 'default' }}>\r\n      <div style={style}>{summary.text}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSummary.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  summary: PropTypes.object.isRequired,\r\n  left: PropTypes.number.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  top: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Summary;\r\n","/* eslint-disable */\r\nimport { PropTypes } from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport { CellUnit, DATETIME_FORMAT, DnDTypes, SummaryPos } from '../config/default';\r\nimport { getPos } from '../helper/utility';\r\nimport AddMore from './AddMore';\r\nimport SelectedArea from './SelectedArea';\r\nimport Summary from './Summary';\r\n\r\nclass ResourceEvents extends Component {\r\n  static propTypes = {\r\n    resourceEvents: PropTypes.object.isRequired,\r\n    schedulerData: PropTypes.object.isRequired,\r\n    dndSource: PropTypes.object.isRequired,\r\n    onSetAddMoreState: PropTypes.func,\r\n    updateEventStart: PropTypes.func,\r\n    updateEventEnd: PropTypes.func,\r\n    moveEvent: PropTypes.func,\r\n    movingEvent: PropTypes.func,\r\n    conflictOccurred: PropTypes.func,\r\n    subtitleGetter: PropTypes.func,\r\n    eventItemClick: PropTypes.func,\r\n    viewEventClick: PropTypes.func,\r\n    viewEventText: PropTypes.string,\r\n    viewEvent2Click: PropTypes.func,\r\n    viewEvent2Text: PropTypes.string,\r\n    newEvent: PropTypes.func,\r\n    eventItemTemplateResolver: PropTypes.func,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isSelecting: false,\r\n      left: 0,\r\n      width: 0,\r\n    };\r\n    this.supportTouch = false; // 'ontouchstart' in window;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { schedulerData } = this.props;\r\n    const { config } = schedulerData;\r\n    this.supportTouch = 'ontouchstart' in window;\r\n\r\n    if (config.creatable === true) {\r\n      this.supportTouchHelper();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps !== this.props) {\r\n      const { schedulerData } = this.props;\r\n      this.supportTouchHelper('remove');\r\n      if (schedulerData.config.creatable) {\r\n        this.supportTouchHelper();\r\n      }\r\n    }\r\n  }\r\n\r\n  supportTouchHelper = (evType = 'add') => {\r\n    const ev = evType === 'add' ? this.eventContainer.addEventListener : this.eventContainer.removeEventListener;\r\n    if (this.supportTouch) {\r\n      // ev('touchstart', this.initDrag, false);\r\n    } else {\r\n      ev('mousedown', this.initDrag, false);\r\n    }\r\n  };\r\n\r\n  initDrag = ev => {\r\n    const { isSelecting } = this.state;\r\n    if (isSelecting) return;\r\n    if ((ev.srcElement || ev.target) !== this.eventContainer) return;\r\n\r\n    ev.stopPropagation();\r\n\r\n    const { resourceEvents } = this.props;\r\n    if (resourceEvents.groupOnly) return;\r\n    const [clientX, toReturn] = this.dragHelper(ev, 'init');\r\n\r\n    if (toReturn) {\r\n      return;\r\n    }\r\n\r\n    const { schedulerData } = this.props;\r\n    const cellWidth = schedulerData.getContentCellWidth();\r\n    const pos = getPos(this.eventContainer);\r\n    const startX = clientX - pos.x;\r\n    const leftIndex = Math.floor(startX / cellWidth);\r\n    const left = leftIndex * cellWidth;\r\n    const rightIndex = Math.ceil(startX / cellWidth);\r\n    const width = (rightIndex - leftIndex) * cellWidth;\r\n\r\n    this.setState({ startX, left, leftIndex, width, rightIndex, isSelecting: true });\r\n\r\n    if (this.supportTouch) {\r\n      document.documentElement.addEventListener('touchmove', this.doDrag, false);\r\n      document.documentElement.addEventListener('touchend', this.stopDrag, false);\r\n      document.documentElement.addEventListener('touchcancel', this.cancelDrag, false);\r\n    } else {\r\n      document.documentElement.addEventListener('mousemove', this.doDrag, false);\r\n      document.documentElement.addEventListener('mouseup', this.stopDrag, false);\r\n    }\r\n    document.onselectstart = () => false;\r\n    document.ondragstart = () => false;\r\n  };\r\n\r\n  doDrag = ev => {\r\n    ev.stopPropagation();\r\n\r\n    const [clientX, toReturn] = this.dragHelper(ev, 'do');\r\n\r\n    if (toReturn) {\r\n      return;\r\n    }\r\n    const { startX } = this.state;\r\n    const { schedulerData } = this.props;\r\n    const { headers } = schedulerData;\r\n    const cellWidth = schedulerData.getContentCellWidth();\r\n    const pos = getPos(this.eventContainer);\r\n    const currentX = clientX - pos.x;\r\n    let leftIndex = Math.floor(Math.min(startX, currentX) / cellWidth);\r\n    leftIndex = leftIndex < 0 ? 0 : leftIndex;\r\n    const left = leftIndex * cellWidth;\r\n    let rightIndex = Math.ceil(Math.max(startX, currentX) / cellWidth);\r\n    rightIndex = rightIndex > headers.length ? headers.length : rightIndex;\r\n    const width = (rightIndex - leftIndex) * cellWidth;\r\n\r\n    this.setState({ leftIndex, left, rightIndex, width, isSelecting: true });\r\n  };\r\n\r\n  dragHelper = (ev, dragType) => {\r\n    let clientX = 0;\r\n    if (this.supportTouch) {\r\n      if (ev.changedTouches.length === 0) return [clientX, true];\r\n      const touch = ev.changedTouches[0];\r\n      clientX = touch.pageX;\r\n    } else if (dragType === 'init') {\r\n      if (ev.buttons !== undefined && ev.buttons !== 1) return [clientX, true];\r\n      clientX = ev.clientX;\r\n    } else {\r\n      clientX = ev.clientX;\r\n    }\r\n    return [clientX, false];\r\n  };\r\n\r\n  stopDrag = ev => {\r\n    ev.stopPropagation();\r\n\r\n    const { schedulerData, newEvent, resourceEvents } = this.props;\r\n    const { headers, events, config, cellUnit, localeDayjs } = schedulerData;\r\n    const { leftIndex, rightIndex } = this.state;\r\n    if (this.supportTouch) {\r\n      document.documentElement.removeEventListener('touchmove', this.doDrag, false);\r\n      document.documentElement.removeEventListener('touchend', this.stopDrag, false);\r\n      document.documentElement.removeEventListener('touchcancel', this.cancelDrag, false);\r\n    } else {\r\n      document.documentElement.removeEventListener('mousemove', this.doDrag, false);\r\n      document.documentElement.removeEventListener('mouseup', this.stopDrag, false);\r\n    }\r\n    document.onselectstart = null;\r\n    document.ondragstart = null;\r\n\r\n    const startTime = headers[leftIndex].time;\r\n    let endTime = resourceEvents.headerItems[rightIndex - 1].end;\r\n    if (cellUnit !== CellUnit.Hour) {\r\n      endTime = localeDayjs(new Date(resourceEvents.headerItems[rightIndex - 1].start))\r\n        .hour(23)\r\n        .minute(59)\r\n        .second(59)\r\n        .format(DATETIME_FORMAT);\r\n    }\r\n    const { slotId } = resourceEvents;\r\n    const { slotName } = resourceEvents;\r\n\r\n    this.setState({\r\n      startX: 0,\r\n      leftIndex: 0,\r\n      left: 0,\r\n      rightIndex: 0,\r\n      width: 0,\r\n      isSelecting: false,\r\n    });\r\n\r\n    let hasConflict = false;\r\n    if (config.checkConflict) {\r\n      const start = localeDayjs(new Date(startTime));\r\n      const end = localeDayjs(endTime);\r\n\r\n      events.forEach(e => {\r\n        if (schedulerData._getEventSlotId(e) === slotId) {\r\n          const eStart = localeDayjs(e.start);\r\n          const eEnd = localeDayjs(e.end);\r\n          if ((start >= eStart && start < eEnd) || (end > eStart && end <= eEnd) || (eStart >= start && eStart < end) || (eEnd > start && eEnd <= end)) hasConflict = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    if (hasConflict) {\r\n      const { conflictOccurred } = this.props;\r\n      if (conflictOccurred !== undefined) {\r\n        conflictOccurred(\r\n          schedulerData,\r\n          'New',\r\n          {\r\n            id: undefined,\r\n            start: startTime,\r\n            end: endTime,\r\n            slotId,\r\n            slotName,\r\n            title: undefined,\r\n          },\r\n          DnDTypes.EVENT,\r\n          slotId,\r\n          slotName,\r\n          startTime,\r\n          endTime,\r\n        );\r\n      } else {\r\n        console.log('Conflict occurred, set conflictOccurred func in Scheduler to handle it');\r\n      }\r\n    } else if (newEvent !== undefined) newEvent(schedulerData, slotId, slotName, startTime, endTime);\r\n  };\r\n\r\n  cancelDrag = ev => {\r\n    ev.stopPropagation();\r\n\r\n    const { isSelecting } = this.state;\r\n    if (isSelecting) {\r\n      document.documentElement.removeEventListener('touchmove', this.doDrag, false);\r\n      document.documentElement.removeEventListener('touchend', this.stopDrag, false);\r\n      document.documentElement.removeEventListener('touchcancel', this.cancelDrag, false);\r\n      document.onselectstart = null;\r\n      document.ondragstart = null;\r\n      this.setState({\r\n        startX: 0,\r\n        leftIndex: 0,\r\n        left: 0,\r\n        rightIndex: 0,\r\n        width: 0,\r\n        isSelecting: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  onAddMoreClick = headerItem => {\r\n    const { onSetAddMoreState, resourceEvents, schedulerData } = this.props;\r\n    if (onSetAddMoreState) {\r\n      const { config } = schedulerData;\r\n      const cellWidth = schedulerData.getContentCellWidth();\r\n      const index = resourceEvents.headerItems.indexOf(headerItem);\r\n      if (index !== -1) {\r\n        let left = index * (cellWidth - 1);\r\n        const pos = getPos(this.eventContainer);\r\n        left += pos.x;\r\n        const top = pos.y;\r\n        const height = (headerItem.count + 1) * config.eventItemLineHeight + 20;\r\n\r\n        onSetAddMoreState({\r\n          headerItem,\r\n          left,\r\n          top,\r\n          height,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  eventContainerRef = element => {\r\n    this.eventContainer = element;\r\n  };\r\n\r\n  render() {\r\n    const { resourceEvents, schedulerData, connectDropTarget, dndSource } = this.props;\r\n    const { cellUnit, startDate, endDate, config, localeDayjs } = schedulerData;\r\n    const { isSelecting, left, width } = this.state;\r\n    const cellWidth = schedulerData.getContentCellWidth();\r\n    const cellMaxEvents = schedulerData.getCellMaxEvents();\r\n    const rowWidth = schedulerData.getContentTableWidth();\r\n    const DnDEventItem = dndSource.getDragSource();\r\n\r\n    const selectedArea = isSelecting ? <SelectedArea {...this.props} left={left} width={width} /> : <div />;\r\n\r\n    const eventList = [];\r\n    resourceEvents.headerItems.forEach((headerItem, index) => {\r\n      if (headerItem.count > 0 || headerItem.summary !== undefined) {\r\n        const isTop = config.summaryPos === SummaryPos.TopRight || config.summaryPos === SummaryPos.Top || config.summaryPos === SummaryPos.TopLeft;\r\n        const marginTop = resourceEvents.hasSummary && isTop ? 1 + config.eventItemLineHeight : 1;\r\n        const renderEventsMaxIndex = headerItem.addMore === 0 ? cellMaxEvents : headerItem.addMoreIndex;\r\n\r\n        headerItem.events.forEach((evt, idx) => {\r\n          if (idx < renderEventsMaxIndex && evt !== undefined && evt.render) {\r\n            let durationStart = localeDayjs(new Date(startDate));\r\n            let durationEnd = localeDayjs(endDate);\r\n            if (cellUnit === CellUnit.Hour) {\r\n              durationStart = localeDayjs(new Date(startDate)).add(config.dayStartFrom, 'hours');\r\n              durationEnd = localeDayjs(endDate).add(config.dayStopTo + 1, 'hours');\r\n            }\r\n            const eventStart = localeDayjs(evt.eventItem.start);\r\n            const eventEnd = localeDayjs(evt.eventItem.end);\r\n            const isStart = eventStart >= durationStart;\r\n            const isEnd = eventEnd <= durationEnd;\r\n            const left = index * cellWidth + (index > 0 ? 2 : 3);\r\n            const width = evt.span * cellWidth - (index > 0 ? 5 : 6) > 0 ? evt.span * cellWidth - (index > 0 ? 5 : 6) : 0;\r\n            const top = marginTop + idx * config.eventItemLineHeight;\r\n            const eventItem = (\r\n              <DnDEventItem\r\n                {...this.props}\r\n                key={evt.eventItem.id}\r\n                eventItem={evt.eventItem}\r\n                isStart={isStart}\r\n                isEnd={isEnd}\r\n                isInPopover={false}\r\n                left={left}\r\n                width={width}\r\n                top={top}\r\n                leftIndex={index}\r\n                rightIndex={index + evt.span}\r\n              />\r\n            );\r\n            eventList.push(eventItem);\r\n          }\r\n        });\r\n\r\n        if (headerItem.addMore > 0) {\r\n          const left = index * cellWidth + (index > 0 ? 2 : 3);\r\n          const width = cellWidth - (index > 0 ? 5 : 6);\r\n          const top = marginTop + headerItem.addMoreIndex * config.eventItemLineHeight;\r\n          const addMoreItem = (\r\n            <AddMore\r\n              {...this.props}\r\n              key={headerItem.time}\r\n              headerItem={headerItem}\r\n              number={headerItem.addMore}\r\n              left={left}\r\n              width={width}\r\n              top={top}\r\n              clickAction={this.onAddMoreClick}\r\n            />\r\n          );\r\n          eventList.push(addMoreItem);\r\n        }\r\n\r\n        if (headerItem.summary !== undefined) {\r\n          const top = isTop ? 1 : resourceEvents.rowHeight - config.eventItemLineHeight + 1;\r\n          const left = index * cellWidth + (index > 0 ? 2 : 3);\r\n          const width = cellWidth - (index > 0 ? 5 : 6);\r\n          const key = `${resourceEvents.slotId}_${headerItem.time}`;\r\n          const summary = <Summary key={key} schedulerData={schedulerData} summary={headerItem.summary} left={left} width={width} top={top} />;\r\n          eventList.push(summary);\r\n        }\r\n      }\r\n    });\r\n\r\n    const eventContainer = (\r\n      <div ref={this.eventContainerRef} className=\"event-container\" style={{ height: resourceEvents.rowHeight }}>\r\n        {selectedArea}\r\n        {eventList}\r\n      </div>\r\n    );\r\n    return (\r\n      <tr>\r\n        <td style={{ width: rowWidth }}>{config.dragAndDropEnabled ? connectDropTarget(eventContainer) : eventContainer}</td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResourceEvents;\r\n","import { MinusSquareOutlined, PlusSquareOutlined } from '@ant-design/icons';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nfunction ResourceView({ schedulerData, contentScrollbarHeight, slotClickedFunc, slotItemTemplateResolver, toggleExpandFunc }) {\r\n  const { renderData } = schedulerData;\r\n  const width = schedulerData.getResourceTableWidth() - 2;\r\n  const paddingBottom = contentScrollbarHeight;\r\n  const displayRenderData = renderData.filter(o => o.render);\r\n\r\n  const handleToggleExpand = item => {\r\n    if (toggleExpandFunc) {\r\n      toggleExpandFunc(schedulerData, item.slotId);\r\n    }\r\n  };\r\n\r\n  const renderSlotItem = (item, indents) => {\r\n    let indent = <span key={`es${item.indent}`} className=\"expander-space\" />;\r\n\r\n    const iconProps = { key: `es${item.indent}`, onClick: () => handleToggleExpand(item) };\r\n    if (item.hasChildren) {\r\n      indent = item.expanded ? <MinusSquareOutlined {...iconProps} /> : <PlusSquareOutlined {...iconProps} />;\r\n    }\r\n\r\n    indents.push(indent);\r\n\r\n    const slotCell = slotClickedFunc ? (\r\n      <span className=\"slot-cell\">\r\n        {indents}\r\n        <button type=\"button\" style={{ cursor: 'pointer' }} className=\"slot-text txt-btn-dis\" onClick={() => slotClickedFunc(schedulerData, item)}>\r\n          {item.slotName}\r\n        </button>\r\n      </span>\r\n    ) : (\r\n      <span className=\"slot-cell\">\r\n        {indents}\r\n        <button type=\"button\" className=\"slot-text txt-btn-dis\" style={{ cursor: slotClickedFunc === undefined ? undefined : 'pointer' }}>\r\n          {item.slotName}\r\n        </button>\r\n      </span>\r\n    );\r\n\r\n    let slotItem = (\r\n      <div title={item.slotTitle || item.slotName} className=\"overflow-text header2-text\" style={{ textAlign: 'left' }}>\r\n        {slotCell}\r\n      </div>\r\n    );\r\n\r\n    if (slotItemTemplateResolver) {\r\n      const resolvedTemplate = slotItemTemplateResolver(schedulerData, item, slotClickedFunc, width, 'overflow-text header2-text');\r\n      if (resolvedTemplate) {\r\n        slotItem = resolvedTemplate;\r\n      }\r\n    }\r\n\r\n    const tdStyle = {\r\n      height: item.rowHeight,\r\n      backgroundColor: item.groupOnly ? schedulerData.config.groupOnlySlotColor : undefined,\r\n    };\r\n\r\n    return (\r\n      <tr key={item.slotId}>\r\n        <td data-resource-id={item.slotId} style={tdStyle}>\r\n          {slotItem}\r\n        </td>\r\n      </tr>\r\n    );\r\n  };\r\n\r\n  const resourceList = displayRenderData.map(item => {\r\n    const indents = [];\r\n    for (let i = 0; i < item.indent; i += 1) {\r\n      indents.push(<span key={`es${i}`} className=\"expander-space\" />);\r\n    }\r\n\r\n    return renderSlotItem(item, indents);\r\n  });\r\n\r\n  return (\r\n    <div style={{ paddingBottom }}>\r\n      <table className=\"resource-table\">\r\n        <tbody>{resourceList}</tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nResourceView.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  contentScrollbarHeight: PropTypes.number.isRequired,\r\n  slotClickedFunc: PropTypes.func,\r\n  slotItemTemplateResolver: PropTypes.func,\r\n  toggleExpandFunc: PropTypes.func,\r\n};\r\n\r\nexport default ResourceView;\r\n","import { SummaryPos, ViewType } from './default';\r\n\r\nexport default {\r\n  schedulerWidth: '100%',\r\n  besidesWidth: 20,\r\n  underneathHeight: 20,\r\n  schedulerMaxHeight: 0,\r\n  tableHeaderHeight: 40,\r\n  schedulerContentHeight: '500px',\r\n\r\n  responsiveByParent: false,\r\n\r\n  agendaResourceTableWidth: 160,\r\n  agendaMaxEventWidth: 100,\r\n\r\n  dayResourceTableWidth: 160,\r\n  weekResourceTableWidth: '16%',\r\n  monthResourceTableWidth: 160,\r\n  quarterResourceTableWidth: 160,\r\n  yearResourceTableWidth: 160,\r\n  customResourceTableWidth: 160,\r\n\r\n  dayCellWidth: 30,\r\n  weekCellWidth: '12%',\r\n  monthCellWidth: 80,\r\n  quarterCellWidth: 80,\r\n  yearCellWidth: 80,\r\n  customCellWidth: 80,\r\n\r\n  dayMaxEvents: 99,\r\n  weekMaxEvents: 99,\r\n  monthMaxEvents: 99,\r\n  quarterMaxEvents: 99,\r\n  yearMaxEvents: 99,\r\n  customMaxEvents: 99,\r\n\r\n  eventItemPopoverTrigger: 'hover',\r\n  eventItemPopoverPlacement: 'bottomLeft',\r\n  eventItemPopoverWidth: 300,\r\n\r\n  eventItemHeight: 22,\r\n  eventItemLineHeight: 24,\r\n  nonAgendaSlotMinHeight: 0,\r\n  dayStartFrom: 6,\r\n  dayStopTo: 18,\r\n  defaultEventBgColor: '#80C5F6',\r\n  selectedAreaColor: '#7EC2F3',\r\n  nonWorkingTimeHeadColor: '#999999',\r\n  nonWorkingTimeHeadBgColor: '#fff0f6',\r\n  nonWorkingTimeBodyBgColor: '#fff0f6',\r\n  summaryColor: '#666',\r\n  summaryPos: SummaryPos.TopRight,\r\n  groupOnlySlotColor: '#F8F8F8',\r\n\r\n  startResizable: true,\r\n  endResizable: true,\r\n  movable: true,\r\n  creatable: true,\r\n  crossResourceMove: true,\r\n  checkConflict: false,\r\n  scrollToSpecialDayjsEnabled: true,\r\n  eventItemPopoverEnabled: true,\r\n  eventItemPopoverShowColor: true,\r\n  calendarPopoverEnabled: true,\r\n  recurringEventsEnabled: true,\r\n  viewChangeSpinEnabled: true,\r\n  dateChangeSpinEnabled: true,\r\n  headerEnabled: true,\r\n  resourceViewEnabled: true,\r\n  displayWeekend: true,\r\n  relativeMove: true,\r\n  defaultExpanded: true,\r\n  dragAndDropEnabled: true,\r\n\r\n  schedulerHeaderEventsFuncsTimeoutMs: 100,\r\n\r\n  resourceName: 'Resource Name',\r\n  taskName: 'Task Name',\r\n  agendaViewHeader: 'Agenda',\r\n  addMorePopoverHeaderFormat: 'MMM D, YYYY dddd',\r\n  eventItemPopoverDateFormat: 'MMM D',\r\n  nonAgendaDayCellHeaderFormat: 'ha',\r\n  nonAgendaWeekCellHeaderFormat: 'ww/YYYY',\r\n  nonAgendaMonthCellHeaderFormat: 'MMM YYYY',\r\n  nonAgendaYearCellHeaderFormat: 'YYYY',\r\n  nonAgendaOtherCellHeaderFormat: 'ddd M/D',\r\n\r\n  minuteStep: 30,\r\n\r\n  views: [\r\n    { viewName: 'Day', viewType: ViewType.Day, showAgenda: false, isEventPerspective: false },\r\n    { viewName: 'Week', viewType: ViewType.Week, showAgenda: false, isEventPerspective: false },\r\n    { viewName: 'Month', viewType: ViewType.Month, showAgenda: false, isEventPerspective: false },\r\n    { viewName: 'Quarter', viewType: ViewType.Quarter, showAgenda: false, isEventPerspective: false },\r\n    { viewName: 'Year', viewType: ViewType.Year, showAgenda: false, isEventPerspective: false },\r\n  ],\r\n};\r\n","import { ViewType, CellUnit } from '../config/default';\r\n\r\n// getSummary func example\r\n// export const getSummary = (schedulerData, headerEvents, slotId, slotName, headerStart, headerEnd) => ({ text: 'Summary', color: 'red', fontSize: '1.2rem' });\r\nexport const getSummary = () => ({ text: 'Summary', color: 'red', fontSize: '1.2rem' });\r\n\r\n// getCustomDate example\r\nexport const getCustomDate = (schedulerData, num, date = schedulerData.startDate) => {\r\n  const { viewType, localeDayjs } = schedulerData;\r\n  let startDate;\r\n  let endDate;\r\n  let cellUnit;\r\n\r\n  if (viewType === ViewType.Custom1) {\r\n    const monday = localeDayjs(new Date(date)).startOf('week');\r\n    startDate = num === 0 ? monday : localeDayjs(new Date(monday)).add(2 * num, 'weeks');\r\n    endDate = localeDayjs(new Date(startDate)).add(1, 'weeks').endOf('week');\r\n    cellUnit = CellUnit.Day;\r\n  } else if (viewType === ViewType.Custom2) {\r\n    const firstDayOfMonth = localeDayjs(new Date(date)).startOf('month');\r\n    startDate = num === 0 ? firstDayOfMonth : localeDayjs(new Date(firstDayOfMonth)).add(2 * num, 'months');\r\n    endDate = localeDayjs(new Date(startDate)).add(1, 'months').endOf('month');\r\n    cellUnit = CellUnit.Day;\r\n  } else {\r\n    startDate = num === 0 ? date : localeDayjs(new Date(date)).add(2 * num, 'days');\r\n    endDate = localeDayjs(new Date(startDate)).add(1, 'days');\r\n    cellUnit = CellUnit.Hour;\r\n  }\r\n\r\n  return { startDate, endDate, cellUnit };\r\n};\r\n\r\n// getNonAgendaViewBodyCellBgColor example\r\nexport const getNonAgendaViewBodyCellBgColor = (schedulerData, slotId, header) => (header.nonWorkingTime ? undefined : '#87e8de');\r\n\r\n// getDateLabel func example\r\nexport const getDateLabel = (schedulerData, viewType, startDate, endDate) => {\r\n  const { localeDayjs } = schedulerData;\r\n  const start = localeDayjs(new Date(startDate));\r\n  const end = localeDayjs(endDate);\r\n  let dateLabel = '';\r\n\r\n  if (viewType === ViewType.Week || (start !== end && (viewType === ViewType.Custom || viewType === ViewType.Custom1 || viewType === ViewType.Custom2))) {\r\n    dateLabel = `${start.format('MMM D')}-${end.format('D, YYYY')}`;\r\n    if (start.month() !== end.month()) dateLabel = `${start.format('MMM D')}-${end.format('MMM D, YYYY')}`;\r\n    if (start.year() !== end.year()) dateLabel = `${start.format('MMM D, YYYY')}-${end.format('MMM D, YYYY')}`;\r\n  } else if (viewType === ViewType.Month) {\r\n    dateLabel = start.format('MMMM YYYY');\r\n  } else if (viewType === ViewType.Quarter) {\r\n    dateLabel = `${start.format('MMM D')}-${end.format('MMM D, YYYY')}`;\r\n  } else if (viewType === ViewType.Year) {\r\n    dateLabel = start.format('YYYY');\r\n  } else {\r\n    dateLabel = start.format('MMM D, YYYY');\r\n  }\r\n\r\n  return dateLabel;\r\n};\r\n\r\nexport const getEventText = (schedulerData, event) => (schedulerData.isEventPerspective ? schedulerData.resources.find(item => item.id === event.resourceId)?.name || event.title : event.title);\r\n\r\nexport const getScrollSpecialDayjs = schedulerData => {\r\n  const { localeDayjs } = schedulerData;\r\n  return localeDayjs(new Date());\r\n};\r\n\r\nexport const isNonWorkingTime = (schedulerData, time) => {\r\n  const { localeDayjs, cellUnit } = schedulerData;\r\n  if (cellUnit === CellUnit.Hour) {\r\n    const hour = localeDayjs(new Date(time)).hour();\r\n    return hour < 9 || hour > 18;\r\n  }\r\n  const dayOfWeek = localeDayjs(new Date(time)).day();\r\n  return dayOfWeek === 0 || dayOfWeek === 6;\r\n};\r\n\r\nexport default {\r\n  getSummaryFunc: undefined,\r\n  getCustomDateFunc: undefined,\r\n  getNonAgendaViewBodyCellBgColorFunc: undefined,\r\n  getScrollSpecialDayjsFunc: getScrollSpecialDayjs,\r\n  getDateLabelFunc: getDateLabel,\r\n  getEventTextFunc: getEventText,\r\n  isNonWorkingTimeFunc: isNonWorkingTime,\r\n};\r\n","import dayjs from 'dayjs';\r\nimport quarterOfYear from 'dayjs/plugin/quarterOfYear';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport weekday from 'dayjs/plugin/weekday';\r\nimport { RRuleSet, rrulestr } from 'rrule';\r\nimport { CellUnit, DATE_FORMAT, DATETIME_FORMAT, ViewType } from '../config/default';\r\nimport config from '../config/scheduler';\r\nimport behaviors from '../helper/behaviors';\r\n\r\nexport default class SchedulerData {\r\n  constructor(date = dayjs(), viewType = ViewType.Week, showAgenda = false, isEventPerspective = false, newConfig = undefined, newBehaviors = undefined) {\r\n    this.resources = [];\r\n    this.events = [];\r\n    this.eventGroups = [];\r\n    this.eventGroupsAutoGenerated = true;\r\n    this.viewType = viewType;\r\n    this.cellUnit = viewType === ViewType.Day ? CellUnit.Hour : CellUnit.Day;\r\n    this.showAgenda = showAgenda;\r\n    this.isEventPerspective = isEventPerspective;\r\n    this.resizing = false;\r\n    this.scrollToSpecialDayjs = false;\r\n    this.documentWidth = 0;\r\n    this.documentHeight = 0;\r\n    this.schedulerHeaderHeight = 0;\r\n    this._shouldReloadViewType = false;\r\n\r\n    this.calendarPopoverLocale = undefined;\r\n    dayjs.extend(quarterOfYear);\r\n    dayjs.extend(weekday);\r\n    dayjs.extend(utc);\r\n    this.localeDayjs = dayjs;\r\n    this.config = newConfig === undefined ? config : { ...config, ...newConfig };\r\n    this._validateMinuteStep(this.config.minuteStep);\r\n    this.behaviors = newBehaviors === undefined ? behaviors : { ...behaviors, ...newBehaviors };\r\n    this._resolveDate(0, date);\r\n    this._createHeaders();\r\n    this._createRenderData();\r\n  }\r\n\r\n  setSchedulerLocale(preset) {\r\n    if (!preset) return;\r\n\r\n    this.localeDayjs.locale(preset);\r\n    this._shouldReloadViewType = true;\r\n    this.setViewType(this.viewType, this.showAgenda, this.isEventPerspective);\r\n  }\r\n\r\n  setCalendarPopoverLocale(lang) {\r\n    if (lang) {\r\n      this.calendarPopoverLocale = lang;\r\n    }\r\n  }\r\n\r\n  setResources(resources) {\r\n    this._validateResource(resources);\r\n    this.resources = Array.from(new Set(resources));\r\n    this._createRenderData();\r\n    this.setScrollToSpecialDayjs(true);\r\n  }\r\n\r\n  setEventGroupsAutoGenerated(autoGenerated) {\r\n    this.eventGroupsAutoGenerated = autoGenerated;\r\n  }\r\n\r\n  // optional\r\n  setEventGroups(eventGroups) {\r\n    this._validateEventGroups(eventGroups);\r\n    this.eventGroups = Array.from(new Set(eventGroups));\r\n    this.eventGroupsAutoGenerated = false;\r\n    this._createRenderData();\r\n    this.setScrollToSpecialDayjs(true);\r\n  }\r\n\r\n  setMinuteStep(minuteStep) {\r\n    if (this.config.minuteStep !== minuteStep) {\r\n      this._validateMinuteStep(minuteStep);\r\n      this.config.minuteStep = minuteStep;\r\n      this._createHeaders();\r\n      this._createRenderData();\r\n    }\r\n  }\r\n\r\n  setBesidesWidth(besidesWidth) {\r\n    if (besidesWidth >= 0) {\r\n      this.config.besidesWidth = besidesWidth;\r\n    }\r\n  }\r\n\r\n  setUnderneathHeight(underneathHeight) {\r\n    if (underneathHeight >= 0) {\r\n      this.config.underneathHeight = underneathHeight;\r\n    }\r\n  }\r\n\r\n  getMinuteStepsInHour() {\r\n    return 60 / this.config.minuteStep;\r\n  }\r\n\r\n  addResource(resource) {\r\n    const existedResources = this.resources.filter(x => x.id === resource.id);\r\n    if (existedResources.length === 0) {\r\n      this.resources.push(resource);\r\n      this._createRenderData();\r\n    }\r\n  }\r\n\r\n  addEventGroup(eventGroup) {\r\n    const existedEventGroups = this.eventGroups.filter(x => x.id === eventGroup.id);\r\n    if (existedEventGroups.length === 0) {\r\n      this.eventGroups.push(eventGroup);\r\n      this._createRenderData();\r\n    }\r\n  }\r\n\r\n  removeEventGroupById(eventGroupId) {\r\n    let index = -1;\r\n    this.eventGroups.forEach((item, idx) => {\r\n      if (item.id === eventGroupId) index = idx;\r\n    });\r\n    if (index !== -1) this.eventGroups.splice(index, 1);\r\n  }\r\n\r\n  containsEventGroupId(eventGroupId) {\r\n    let index = -1;\r\n    this.eventGroups.forEach((item, idx) => {\r\n      if (item.id === eventGroupId) index = idx;\r\n    });\r\n    return index !== -1;\r\n  }\r\n\r\n  setEvents(events) {\r\n    this._validateEvents(events);\r\n    this.events = Array.from(events);\r\n    if (this.eventGroupsAutoGenerated) this._generateEventGroups();\r\n    if (this.config.recurringEventsEnabled) this._handleRecurringEvents();\r\n\r\n    this._createRenderData();\r\n  }\r\n\r\n  setScrollToSpecialDayjs(scrollToSpecialDayjs) {\r\n    if (this.config.scrollToSpecialDayjsEnabled) this.scrollToSpecialDayjs = scrollToSpecialDayjs;\r\n  }\r\n\r\n  prev() {\r\n    this._resolveDate(-1);\r\n    this.events = [];\r\n    this._createHeaders();\r\n    this._createRenderData();\r\n  }\r\n\r\n  next() {\r\n    this._resolveDate(1);\r\n    this.events = [];\r\n    this._createHeaders();\r\n    this._createRenderData();\r\n  }\r\n\r\n  setDate(date = dayjs(new Date())) {\r\n    this._resolveDate(0, date);\r\n    this.events = [];\r\n    this._createHeaders();\r\n    this._createRenderData();\r\n  }\r\n\r\n  setViewType(viewType = ViewType.Week, showAgenda = false, isEventPerspective = false) {\r\n    this.showAgenda = showAgenda;\r\n    this.isEventPerspective = isEventPerspective;\r\n    this.cellUnit = CellUnit.Day;\r\n\r\n    if (this.viewType !== viewType || this._shouldReloadViewType) {\r\n      let date = this.startDate;\r\n\r\n      if (viewType === ViewType.Custom || viewType === ViewType.Custom1 || viewType === ViewType.Custom2) {\r\n        this.viewType = viewType;\r\n        this._resolveDate(0, date);\r\n      } else {\r\n        if (this.viewType < viewType) {\r\n          if (viewType === ViewType.Week) {\r\n            this.startDate = this.localeDayjs(new Date(date)).startOf('isoweek');\r\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('isoweek');\r\n          } else if (viewType === ViewType.Month) {\r\n            this.startDate = this.localeDayjs(new Date(date)).startOf('month');\r\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('month');\r\n          } else if (viewType === ViewType.Quarter) {\r\n            this.startDate = this.localeDayjs(new Date(date)).startOf('quarter');\r\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('quarter');\r\n          } else if (viewType === ViewType.Year) {\r\n            this.startDate = this.localeDayjs(new Date(date)).startOf('year');\r\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('year');\r\n          }\r\n        } else {\r\n          const start = this.localeDayjs(new Date(this.startDate));\r\n          const end = this.localeDayjs(new Date(this.endDate)).add(1, 'days');\r\n\r\n          if (this.selectDate !== undefined) {\r\n            const selectDate = this.localeDayjs(new Date(this.selectDate));\r\n            if (selectDate >= start && selectDate < end) {\r\n              date = this.selectDate;\r\n            }\r\n          }\r\n\r\n          const now = this.localeDayjs();\r\n          if (now >= start && now < end) {\r\n            date = now.startOf('day');\r\n          }\r\n\r\n          if (viewType === ViewType.Day) {\r\n            this.startDate = date;\r\n            this.endDate = this.startDate;\r\n            this.cellUnit = CellUnit.Hour;\r\n          } else if (viewType === ViewType.Week) {\r\n            this.startDate = this.localeDayjs(new Date(date)).startOf('week');\r\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('week');\r\n          } else if (viewType === ViewType.Month) {\r\n            this.startDate = this.localeDayjs(new Date(date)).startOf('month');\r\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('month');\r\n          } else if (viewType === ViewType.Quarter) {\r\n            this.startDate = this.localeDayjs(new Date(date)).startOf('quarter');\r\n            this.endDate = this.localeDayjs(new Date(this.startDate)).endOf('quarter');\r\n          }\r\n        }\r\n\r\n        this.viewType = viewType;\r\n      }\r\n\r\n      this._shouldReloadViewType = false;\r\n\r\n      this.events = [];\r\n      this._createHeaders();\r\n      this._createRenderData();\r\n      this.setScrollToSpecialDayjs(true);\r\n    }\r\n  }\r\n\r\n  setSchedulerMaxHeight(newSchedulerMaxHeight) {\r\n    this.config.schedulerMaxHeight = newSchedulerMaxHeight;\r\n  }\r\n\r\n  isSchedulerResponsive() {\r\n    return !!this.config.schedulerWidth.endsWith && this.config.schedulerWidth.endsWith('%');\r\n  }\r\n\r\n  toggleExpandStatus(slotId) {\r\n    let slotEntered = false;\r\n    let slotIndent = -1;\r\n    let isExpanded = false;\r\n    const expandedMap = new Map();\r\n    this.renderData.forEach(item => {\r\n      if (slotEntered === false) {\r\n        if (item.slotId === slotId && item.hasChildren) {\r\n          slotEntered = true;\r\n\r\n          isExpanded = !item.expanded;\r\n          item.expanded = isExpanded;\r\n          slotIndent = item.indent;\r\n          expandedMap.set(item.indent, {\r\n            expanded: item.expanded,\r\n            render: item.render,\r\n          });\r\n        }\r\n      } else if (item.indent > slotIndent) {\r\n        const expandStatus = expandedMap.get(item.indent - 1);\r\n        item.render = expandStatus.expanded && expandStatus.render;\r\n\r\n        if (item.hasChildren) {\r\n          expandedMap.set(item.indent, {\r\n            expanded: item.expanded,\r\n            render: item.render,\r\n          });\r\n        }\r\n      } else {\r\n        slotEntered = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  isResourceViewResponsive() {\r\n    const resourceTableWidth = this.getResourceTableConfigWidth();\r\n    return !!resourceTableWidth.endsWith && resourceTableWidth.endsWith('%');\r\n  }\r\n\r\n  isContentViewResponsive() {\r\n    const contentCellWidth = this.getContentCellConfigWidth();\r\n    return !!contentCellWidth.endsWith && contentCellWidth.endsWith('%');\r\n  }\r\n\r\n  getSchedulerWidth() {\r\n    const baseWidth = this.documentWidth - this.config.besidesWidth > 0 ? this.documentWidth - this.config.besidesWidth : 0;\r\n    return this.isSchedulerResponsive() ? parseInt((baseWidth * Number(this.config.schedulerWidth.slice(0, -1))) / 100, 10) : this.config.schedulerWidth;\r\n  }\r\n\r\n  getSchedulerHeight() {\r\n    // Use the header height tracked in SchedulerData (set via _setSchedulerHeaderHeight)\r\n    const headerHeight = this.schedulerHeaderHeight || 0;\r\n    const baseHeight = this.documentHeight - headerHeight - this.config.tableHeaderHeight - (this.config.underneathHeight || 0);\r\n    const validBaseHeight = baseHeight > 0 ? baseHeight : 0;\r\n    if (this.isSchedulerResponsive() && this.config.schedulerHeight && this.config.schedulerHeight.endsWith && this.config.schedulerHeight.endsWith('%')) {\r\n      return parseInt((validBaseHeight * Number(this.config.schedulerHeight.slice(0, -1))) / 100, 10);\r\n    }\r\n    // fallback to max height if set, else just use base height\r\n    return this.config.setSchedulerMaxHeight || validBaseHeight;\r\n  }\r\n\r\n  getResourceTableWidth() {\r\n    const resourceTableConfigWidth = this.getResourceTableConfigWidth();\r\n    const schedulerWidth = this.getSchedulerWidth();\r\n    let resourceTableWidth = this.isResourceViewResponsive() ? parseInt((schedulerWidth * Number(resourceTableConfigWidth.slice(0, -1))) / 100, 10) : resourceTableConfigWidth;\r\n    if (this.isSchedulerResponsive() && this.getContentTableWidth() + resourceTableWidth < schedulerWidth) resourceTableWidth = schedulerWidth - this.getContentTableWidth();\r\n    return resourceTableWidth;\r\n  }\r\n\r\n  getContentCellWidth() {\r\n    const contentCellConfigWidth = this.getContentCellConfigWidth();\r\n    const schedulerWidth = this.getSchedulerWidth();\r\n    return this.isContentViewResponsive() ? parseInt((schedulerWidth * Number(contentCellConfigWidth.slice(0, -1))) / 100, 10) : contentCellConfigWidth;\r\n  }\r\n\r\n  getContentTableWidth() {\r\n    return this.headers.length * this.getContentCellWidth();\r\n  }\r\n\r\n  getScrollToSpecialDayjs() {\r\n    if (this.config.scrollToSpecialDayjsEnabled) return this.scrollToSpecialDayjs;\r\n    return false;\r\n  }\r\n\r\n  getSlots() {\r\n    return this.isEventPerspective ? this.eventGroups : this.resources;\r\n  }\r\n\r\n  getSlotById(slotId) {\r\n    const slots = this.getSlots();\r\n    let slot;\r\n    slots.forEach(item => {\r\n      if (item.id === slotId) slot = item;\r\n    });\r\n    return slot;\r\n  }\r\n\r\n  getResourceById(resourceId) {\r\n    let resource;\r\n    this.resources.forEach(item => {\r\n      if (item.id === resourceId) resource = item;\r\n    });\r\n    return resource;\r\n  }\r\n\r\n  getTableHeaderHeight() {\r\n    return this.config.tableHeaderHeight;\r\n  }\r\n\r\n  getSchedulerContentDesiredHeight() {\r\n    let height = 0;\r\n    this.renderData.forEach(item => {\r\n      if (item.render) height += item.rowHeight;\r\n    });\r\n    return height;\r\n  }\r\n\r\n  getCellMaxEvents() {\r\n    const viewConfigMap = {\r\n      [ViewType.Week]: 'weekMaxEvents',\r\n      [ViewType.Day]: 'dayMaxEvents',\r\n      [ViewType.Month]: 'monthMaxEvents',\r\n      [ViewType.Year]: 'yearMaxEvents',\r\n      [ViewType.Quarter]: 'quarterMaxEvents',\r\n    };\r\n\r\n    const configProperty = viewConfigMap[this.viewType] || 'customMaxEvents';\r\n\r\n    return this.config[configProperty];\r\n  }\r\n\r\n  getCalendarPopoverLocale() {\r\n    return this.calendarPopoverLocale;\r\n  }\r\n\r\n  getSelectedDate() {\r\n    return this.selectDate.format(DATE_FORMAT);\r\n  }\r\n\r\n  getViewStartDate() {\r\n    return this.startDate;\r\n  }\r\n\r\n  getViewEndDate() {\r\n    return this.endDate;\r\n  }\r\n\r\n  getViewDates() {\r\n    return {\r\n      startDate: this.startDate,\r\n      endDate: this.endDate,\r\n    };\r\n  }\r\n\r\n  getDateLabel() {\r\n    const start = this.localeDayjs(new Date(this.startDate));\r\n    const end = this.localeDayjs(new Date(this.endDate));\r\n    let dateLabel = start.format('LL');\r\n\r\n    if (start !== end) dateLabel = `${start.format('LL')}-${end.format('LL')}`;\r\n\r\n    if (this.behaviors.getDateLabelFunc) dateLabel = this.behaviors.getDateLabelFunc(this, this.viewType, this.startDate, this.endDate);\r\n\r\n    return dateLabel;\r\n  }\r\n\r\n  addEvent(newEvent) {\r\n    this._attachEvent(newEvent);\r\n    if (this.eventGroupsAutoGenerated) this._generateEventGroups();\r\n    this._createRenderData();\r\n  }\r\n\r\n  updateEventStart(event, newStart) {\r\n    this._detachEvent(event);\r\n    event.start = newStart;\r\n    this._attachEvent(event);\r\n    this._createRenderData();\r\n  }\r\n\r\n  updateEventEnd(event, newEnd) {\r\n    event.end = newEnd;\r\n    this._createRenderData();\r\n  }\r\n\r\n  swapEvent(eventSource, eventDest) {\r\n    // Swap group or resource IDs\r\n    if (this.isEventPerspective) {\r\n      [eventSource.groupId, eventDest.groupId] = [eventDest.groupId, eventSource.groupId];\r\n      [eventSource.groupName, eventDest.groupName] = [eventDest.groupName, eventSource.groupName];\r\n    } else {\r\n      [eventSource.resourceId, eventDest.resourceId] = [eventDest.resourceId, eventSource.resourceId];\r\n    }\r\n\r\n    // Swap start and end times\r\n    [eventSource.start, eventDest.start] = [eventDest.start, eventSource.start];\r\n    [eventSource.end, eventDest.end] = [eventDest.end, eventSource.end];\r\n\r\n    // Update the events\r\n    this._detachEvent(eventSource);\r\n    this._detachEvent(eventDest);\r\n    this._attachEvent(eventSource);\r\n    this._attachEvent(eventDest);\r\n    this._createRenderData();\r\n  }\r\n\r\n  swapEvent2(eventSource, eventDest) {\r\n    const tempEventSource = { ...eventSource };\r\n    const tempEventDest = { ...eventDest };\r\n    this._detachEvent(eventSource);\r\n    this._detachEvent(eventDest);\r\n    if (this.isEventPerspective) {\r\n      tempEventSource.groupId = eventDest.groupId;\r\n      tempEventSource.groupName = eventDest.groupName;\r\n      tempEventDest.groupId = eventSource.groupId;\r\n      tempEventDest.groupName = eventSource.groupName;\r\n    } else {\r\n      tempEventSource.resourceId = eventDest.resourceId;\r\n      tempEventDest.resourceId = eventSource.resourceId;\r\n    }\r\n    tempEventSource.end = eventDest.end;\r\n    tempEventSource.start = eventDest.start;\r\n    tempEventDest.end = eventSource.end;\r\n    tempEventDest.start = eventSource.start;\r\n    this._attachEvent(tempEventSource);\r\n    this._attachEvent(tempEventDest);\r\n    this._createRenderData();\r\n  }\r\n\r\n  moveEvent(event, newSlotId, newSlotName, newStart, newEnd) {\r\n    this._detachEvent(event);\r\n    if (this.isEventPerspective) {\r\n      event.groupId = newSlotId;\r\n      event.groupName = newSlotName;\r\n    } else event.resourceId = newSlotId;\r\n    event.end = newEnd;\r\n    event.start = newStart;\r\n    this._attachEvent(event);\r\n    this._createRenderData();\r\n  }\r\n\r\n  isEventInTimeWindow(eventStart, eventEnd, windowStart, windowEnd) {\r\n    return eventStart < windowEnd && eventEnd > windowStart;\r\n  }\r\n\r\n  removeEvent(event) {\r\n    const index = this.events.indexOf(event);\r\n    if (index !== -1) {\r\n      this.events.splice(index, 1);\r\n      this._createRenderData();\r\n    }\r\n  }\r\n\r\n  removeEventById(eventId) {\r\n    let index = -1;\r\n    this.events.forEach((item, idx) => {\r\n      if (item.id === eventId) index = idx;\r\n    });\r\n    if (index !== -1) {\r\n      this.events.splice(index, 1);\r\n      this._createRenderData();\r\n    }\r\n  }\r\n\r\n  getResourceTableConfigWidth() {\r\n    if (this.showAgenda) {\r\n      return this.config.agendaResourceTableWidth;\r\n    }\r\n\r\n    const viewConfigMap = {\r\n      [ViewType.Week]: 'weekResourceTableWidth',\r\n      [ViewType.Day]: 'dayResourceTableWidth',\r\n      [ViewType.Month]: 'monthResourceTableWidth',\r\n      [ViewType.Year]: 'yearResourceTableWidth',\r\n      [ViewType.Quarter]: 'quarterResourceTableWidth',\r\n    };\r\n\r\n    const configProperty = viewConfigMap[this.viewType] || 'customResourceTableWidth';\r\n\r\n    return this.config[configProperty];\r\n  }\r\n\r\n  getContentCellConfigWidth() {\r\n    const viewConfigMap = {\r\n      [ViewType.Week]: 'weekCellWidth',\r\n      [ViewType.Day]: 'dayCellWidth',\r\n      [ViewType.Month]: 'monthCellWidth',\r\n      [ViewType.Year]: 'yearCellWidth',\r\n      [ViewType.Quarter]: 'quarterCellWidth',\r\n    };\r\n\r\n    const configProperty = viewConfigMap[this.viewType] || 'customCellWidth';\r\n\r\n    return this.config[configProperty];\r\n  }\r\n\r\n  _setDocumentWidth(documentWidth) {\r\n    if (documentWidth >= 0) {\r\n      this.documentWidth = documentWidth;\r\n    }\r\n  }\r\n\r\n  _setDocumentHeight(documentHeight) {\r\n    if (documentHeight >= 0) {\r\n      this.documentHeight = documentHeight;\r\n    }\r\n  }\r\n\r\n  _setSchedulerHeaderHeight(schedulerHeaderHeight) {\r\n    if (schedulerHeaderHeight >= 0) {\r\n      this.schedulerHeaderHeight = schedulerHeaderHeight;\r\n    }\r\n  }\r\n\r\n  _detachEvent(event) {\r\n    const index = this.events.indexOf(event);\r\n    if (index !== -1) this.events.splice(index, 1);\r\n  }\r\n\r\n  _attachEvent(event) {\r\n    let pos = 0;\r\n    const eventStart = this.localeDayjs(new Date(event.start));\r\n    this.events.forEach((item, index) => {\r\n      const start = this.localeDayjs(new Date(item.start));\r\n      if (eventStart >= start) pos = index + 1;\r\n    });\r\n    this.events.splice(pos, 0, event);\r\n  }\r\n\r\n  _handleRecurringEvents() {\r\n    const recurringEvents = this.events.filter(x => !!x.rrule);\r\n    recurringEvents.forEach(item => {\r\n      this._detachEvent(item);\r\n    });\r\n\r\n    recurringEvents.forEach(item => {\r\n      const windowStart = this.startDate;\r\n      const windowEnd = this.endDate.add(1, 'days');\r\n      const oldStart = this.localeDayjs(new Date(item.start));\r\n      const oldEnd = this.localeDayjs(new Date(item.end));\r\n      let rule = rrulestr(item.rrule);\r\n      let oldDtstart;\r\n      const oldUntil = rule.origOptions.until || windowEnd.toDate();\r\n      if (rule.origOptions.dtstart) {\r\n        oldDtstart = this.localeDayjs(new Date(rule.origOptions.dtstart));\r\n      }\r\n      // rule.origOptions.dtstart = oldStart.toDate();\r\n      if (windowEnd < oldUntil) {\r\n        rule.origOptions.until = windowEnd.toDate();\r\n      }\r\n\r\n      // reload\r\n      rule = rrulestr(rule.toString());\r\n      if (item.exdates || item.exrule) {\r\n        const rruleSet = new RRuleSet();\r\n        rruleSet.rrule(rule);\r\n        if (item.exrule) {\r\n          rruleSet.exrule(rrulestr(item.exrule));\r\n        }\r\n        if (item.exdates) {\r\n          item.exdates.forEach(exdate => {\r\n            rruleSet.exdate(this.localeDayjs(exdate).toDate());\r\n          });\r\n        }\r\n        rule = rruleSet;\r\n      }\r\n\r\n      const all = rule.between(new Date(windowStart), new Date(windowEnd));\r\n      all.forEach((time, index) => {\r\n        const newEvent = {\r\n          ...item,\r\n          recurringEventId: item.id,\r\n          recurringEventStart: item.start,\r\n          recurringEventEnd: item.end,\r\n          id: `${item.id}-${index}`,\r\n          start: rule.origOptions.tzid\r\n            ? this.localeDayjs.utc(time).utcOffset(this.localeDayjs(new Date()).utcOffset(), true).format(DATETIME_FORMAT)\r\n            : this.localeDayjs(new Date(time)).format(DATETIME_FORMAT),\r\n          end: rule.origOptions.tzid\r\n            ? this.localeDayjs\r\n              .utc(time)\r\n              .utcOffset(this.localeDayjs(new Date()).utcOffset(), true)\r\n              .add(oldEnd.diff(oldStart), 'ms')\r\n              .add(this.localeDayjs(new Date(oldUntil)).utcOffset() - this.localeDayjs(new Date(item.start)).utcOffset(), 'm')\r\n              .format(DATETIME_FORMAT)\r\n            : this.localeDayjs(new Date(time)).add(oldEnd.diff(oldStart), 'ms').format(DATETIME_FORMAT),\r\n        };\r\n\r\n        const eventStart = this.localeDayjs(newEvent.start);\r\n        const eventEnd = this.localeDayjs(newEvent.end);\r\n        if (this.isEventInTimeWindow(eventStart, eventEnd, windowStart, windowEnd) && (!oldDtstart || eventStart >= oldDtstart)) {\r\n          this._attachEvent(newEvent);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  _resolveDate(num, date = undefined) {\r\n    if (date !== undefined) {\r\n      this.selectDate = this.localeDayjs(date);\r\n    }\r\n\r\n    const setStartAndEndDates = unit => {\r\n      this.startDate = date !== undefined ? this.selectDate.startOf(unit) : this.startDate.add(num, `${unit}s`);\r\n      this.endDate = this.startDate.endOf(unit);\r\n    };\r\n\r\n    switch (this.viewType) {\r\n      case ViewType.Week:\r\n        setStartAndEndDates('week');\r\n        break;\r\n\r\n      case ViewType.Day:\r\n        this.startDate = date !== undefined ? this.selectDate : this.startDate.add(num, 'days');\r\n        this.endDate = this.startDate;\r\n        break;\r\n\r\n      case ViewType.Month:\r\n        setStartAndEndDates('month');\r\n        break;\r\n\r\n      case ViewType.Quarter:\r\n        setStartAndEndDates('quarter');\r\n        break;\r\n\r\n      case ViewType.Year:\r\n        setStartAndEndDates('year');\r\n        break;\r\n\r\n      case ViewType.Custom:\r\n      case ViewType.Custom1:\r\n      case ViewType.Custom2:\r\n        if (this.behaviors.getCustomDateFunc !== undefined) {\r\n          const customDate = this.behaviors.getCustomDateFunc(this, num, date);\r\n          this.startDate = this.localeDayjs(customDate.startDate);\r\n          this.endDate = this.localeDayjs(customDate.endDate);\r\n          if (customDate.cellUnit) {\r\n            this.cellUnit = customDate.cellUnit;\r\n          }\r\n        } else {\r\n          throw new Error('This is a custom view type, set behaviors.getCustomDateFunc func to resolve the time window (startDate and endDate) yourself');\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  // Previous Code\r\n  _createHeaders() {\r\n    const headers = [];\r\n    let start = this.localeDayjs(new Date(this.startDate));\r\n    let end = this.localeDayjs(new Date(this.endDate));\r\n    let header = start;\r\n\r\n    if (this.showAgenda) {\r\n      headers.push({ time: header.format(DATETIME_FORMAT), nonWorkingTime: false });\r\n    } else if (this.cellUnit === CellUnit.Hour) {\r\n      if (start.hour() === 0) {\r\n        start = start.add(this.config.dayStartFrom, 'hours');\r\n      }\r\n      if (end.hour() === 0) {\r\n        end = end.add(this.config.dayStopTo, 'hours');\r\n      }\r\n      header = start;\r\n\r\n      let prevHour = -1;\r\n      while (header >= start && header <= end) {\r\n        // prevent doubled hours on time change\r\n        if (header.hour() === prevHour) {\r\n          header = header.add(1, 'hours');\r\n          // eslint-disable-next-line no-continue\r\n          continue;\r\n        }\r\n        prevHour = header.hour();\r\n        const minuteSteps = this.getMinuteStepsInHour();\r\n        for (let i = 0; i < minuteSteps; i += 1) {\r\n          const hour = header.hour();\r\n          if (hour >= this.config.dayStartFrom && hour <= this.config.dayStopTo) {\r\n            const time = header.format(DATETIME_FORMAT);\r\n            const nonWorkingTime = this.behaviors.isNonWorkingTimeFunc(this, time);\r\n            headers.push({ time, nonWorkingTime });\r\n          }\r\n\r\n          header = header.add(this.config.minuteStep, 'minutes');\r\n        }\r\n      }\r\n    } else if (this.cellUnit === CellUnit.Day) {\r\n      while (header >= start && header <= end) {\r\n        const time = header.format(DATETIME_FORMAT);\r\n        const dayOfWeek = header.day();\r\n        if (this.config.displayWeekend || (dayOfWeek !== 0 && dayOfWeek !== 6)) {\r\n          const nonWorkingTime = this.behaviors.isNonWorkingTimeFunc(this, time);\r\n          headers.push({ time, nonWorkingTime });\r\n        }\r\n\r\n        header = header.add(1, 'days');\r\n      }\r\n    } else if (this.cellUnit === CellUnit.Week) {\r\n      while (header >= start && header <= end) {\r\n        const time = header.format(DATE_FORMAT);\r\n        headers.push({ time });\r\n        header = header.add(1, 'weeks').startOf('week');\r\n      }\r\n    } else if (this.cellUnit === CellUnit.Month) {\r\n      while (header >= start && header <= end) {\r\n        const time = header.format(DATE_FORMAT);\r\n        headers.push({ time });\r\n        header = header.add(1, 'months').startOf('month');\r\n      }\r\n    } else if (this.cellUnit === CellUnit.Year) {\r\n      while (header >= start && header <= end) {\r\n        const time = header.format(DATE_FORMAT);\r\n        headers.push({ time });\r\n        header = header.add(1, 'years').startOf('year');\r\n      }\r\n    }\r\n\r\n    this.headers = headers;\r\n  }\r\n\r\n  // Fix Optimited code\r\n  // _createHeaders() {\r\n  //   const headers = [];\r\n  //   const start = this.localeDayjs(new Date(this.startDate));\r\n  //   const end = this.localeDayjs(new Date(this.endDate));\r\n\r\n  //   const processHeader = (header, format, unit, incrementFn) => {\r\n  //     let head = header;\r\n  //     while (head >= start && head <= end) {\r\n  //       const time = head.format(format);\r\n  //       if (unit === CellUnit.Day) {\r\n  //         const dayOfWeek = head.weekday();\r\n  //         if (this.config.displayWeekend || (dayOfWeek !== 0 && dayOfWeek !== 6)) {\r\n  //           const nonWorkingTime = this.behaviors.isNonWorkingTimeFunc(this, time);\r\n  //           headers.push({ time, nonWorkingTime });\r\n  //         }\r\n  //       } else {\r\n  //         headers.push({ time });\r\n  //       }\r\n  //       head = head.add(1, incrementFn);\r\n  //     }\r\n  //   };\r\n\r\n  //   if (this.showAgenda) {\r\n  //     headers.push({ time: start.format(DATETIME_FORMAT), nonWorkingTime: false });\r\n  //   } else if (this.cellUnit === CellUnit.Hour) {\r\n  //     const hourIncrement = this.config.minuteStep < 60 ? 'minutes' : 'hours';\r\n  //     const minuteSteps = this.getMinuteStepsInHour();\r\n  //     let header = start.hour() === 0 ? start.add(this.config.dayStartFrom, 'hours') : start;\r\n  //     while (header <= end) {\r\n  //       const hour = header.hour();\r\n  //       if (hour >= this.config.dayStartFrom && hour <= this.config.dayStopTo) {\r\n  //         const time = header.format(DATETIME_FORMAT);\r\n  //         const nonWorkingTime = this.behaviors.isNonWorkingTimeFunc(this, time);\r\n  //         headers.push({ time, nonWorkingTime });\r\n  //       }\r\n  //       header = header.add(minuteSteps, hourIncrement);\r\n  //     }\r\n  //   } else {\r\n  //     const header = start;\r\n  //     const format = this.cellUnit === CellUnit.Day ? DATETIME_FORMAT : DATE_FORMAT;\r\n  //     const incrementFn = this.cellUnit === CellUnit.Day ? 'days' : `${this.cellUnit}s`;\r\n  //     processHeader(header, format, this.cellUnit, incrementFn);\r\n  //   }\r\n\r\n  //   this.headers = headers;\r\n  // }\r\n\r\n  _createInitHeaderEvents(header) {\r\n    const start = this.localeDayjs(new Date(header.time));\r\n    const startValue = start.format(DATETIME_FORMAT);\r\n\r\n    let endValue;\r\n    if (this.showAgenda) {\r\n      const incrementUnit = {\r\n        [ViewType.Day]: 'days',\r\n        [ViewType.Week]: 'weeks',\r\n        [ViewType.Month]: 'months',\r\n        [ViewType.Year]: 'years',\r\n        [ViewType.Quarter]: 'quarters',\r\n      }[this.viewType] || 'days';\r\n\r\n      if (incrementUnit === 'days') {\r\n        endValue = this.localeDayjs(new Date(this.endDate)).add(1, 'days').format(DATETIME_FORMAT);\r\n      } else {\r\n        endValue = start.add(1, incrementUnit).format(DATETIME_FORMAT);\r\n      }\r\n    } else {\r\n      const incrementUnit = {\r\n        [CellUnit.Hour]: 'minutes',\r\n        [CellUnit.Week]: 'weeks',\r\n        [CellUnit.Month]: 'months',\r\n        [CellUnit.Year]: 'years',\r\n      }[this.cellUnit] || 'days';\r\n\r\n      endValue = start\r\n        .add(incrementUnit === 'minutes' ? this.config.minuteStep : 1, incrementUnit)\r\n        .format(this.cellUnit === CellUnit.Year || this.cellUnit === CellUnit.Month || this.cellUnit === CellUnit.Week ? DATE_FORMAT : DATETIME_FORMAT);\r\n    }\r\n\r\n    return {\r\n      time: header.time,\r\n      nonWorkingTime: header.nonWorkingTime,\r\n      start: startValue,\r\n      end: endValue,\r\n      count: 0,\r\n      addMore: 0,\r\n      addMoreIndex: 0,\r\n      events: Array(3),\r\n    };\r\n  }\r\n\r\n  _createHeaderEvent(render, span, eventItem) {\r\n    return { render, span, eventItem };\r\n  }\r\n\r\n  _getEventSlotId(event) {\r\n    return this.isEventPerspective ? this._getEventGroupId(event) : event.resourceId;\r\n  }\r\n\r\n  _getEventGroupId(event) {\r\n    return event.groupId ? event.groupId.toString() : event.id.toString();\r\n  }\r\n\r\n  _getEventGroupName(event) {\r\n    return event.groupName ? event.groupName : event.title;\r\n  }\r\n\r\n  _generateEventGroups() {\r\n    const eventGroups = [];\r\n    const set = new Set();\r\n    this.events.forEach(item => {\r\n      const groupId = this._getEventGroupId(item);\r\n      const groupName = this._getEventGroupName(item);\r\n\r\n      if (!set.has(groupId)) {\r\n        eventGroups.push({\r\n          id: groupId,\r\n          name: groupName,\r\n          state: item,\r\n        });\r\n        set.add(groupId);\r\n      }\r\n    });\r\n    this.eventGroups = eventGroups;\r\n  }\r\n\r\n  _createInitRenderData(isEventPerspective, eventGroups, resources, headers) {\r\n    const slots = isEventPerspective ? eventGroups : resources;\r\n    const slotTree = [];\r\n    const slotMap = new Map();\r\n    slots.forEach(slot => {\r\n      const headerEvents = headers.map(header => this._createInitHeaderEvents(header));\r\n\r\n      const slotRenderData = {\r\n        slotId: slot.id,\r\n        slotName: slot.name,\r\n        slotTitle: slot.title,\r\n        parentId: slot.parentId,\r\n        groupOnly: slot.groupOnly,\r\n        hasSummary: false,\r\n        rowMaxCount: 0,\r\n        rowHeight: this.config.nonAgendaSlotMinHeight !== 0 ? this.config.nonAgendaSlotMinHeight : this.config.eventItemLineHeight + 2,\r\n        headerItems: headerEvents,\r\n        indent: 0,\r\n        hasChildren: false,\r\n        expanded: true,\r\n        render: true,\r\n      };\r\n      const { id } = slot;\r\n      let value;\r\n      if (slotMap.has(id)) {\r\n        value = slotMap.get(id);\r\n        value.data = slotRenderData;\r\n      } else {\r\n        value = {\r\n          data: slotRenderData,\r\n          children: [],\r\n        };\r\n        slotMap.set(id, value);\r\n      }\r\n\r\n      const { parentId } = slot;\r\n      if (!parentId || parentId === id) {\r\n        slotTree.push(value);\r\n      } else {\r\n        let parentValue;\r\n        if (slotMap.has(parentId)) {\r\n          parentValue = slotMap.get(parentId);\r\n        } else {\r\n          parentValue = {\r\n            data: undefined,\r\n            children: [],\r\n          };\r\n          slotMap.set(parentId, parentValue);\r\n        }\r\n\r\n        parentValue.children.push(value);\r\n      }\r\n    });\r\n\r\n    const slotStack = [];\r\n    let i;\r\n    for (i = slotTree.length - 1; i >= 0; i -= 1) {\r\n      slotStack.push(slotTree[i]);\r\n    }\r\n    const initRenderData = [];\r\n    let currentNode;\r\n    while (slotStack.length > 0) {\r\n      currentNode = slotStack.pop();\r\n      if (currentNode.data.indent > 0) {\r\n        currentNode.data.render = this.config.defaultExpanded;\r\n      }\r\n      if (currentNode.children.length > 0) {\r\n        currentNode.data.hasChildren = true;\r\n        currentNode.data.expanded = this.config.defaultExpanded;\r\n      }\r\n      initRenderData.push(currentNode.data);\r\n\r\n      for (i = currentNode.children.length - 1; i >= 0; i -= 1) {\r\n        currentNode.children[i].data.indent = currentNode.data.indent + 1;\r\n        slotStack.push(currentNode.children[i]);\r\n      }\r\n    }\r\n\r\n    return initRenderData;\r\n  }\r\n\r\n  _getSpan(startTime, endTime, headers) {\r\n    if (this.showAgenda) return 1;\r\n\r\n    // function startOfWeek(date) {\r\n    //   const day = date.getDay();\r\n    //   const diff = date.getDate() - day;\r\n    //   return new Date(date.getFullYear(), date.getMonth(), diff);\r\n    // }\r\n\r\n    const timeBetween = (date1, date2, timeIn) => {\r\n      if (timeIn === 'days' || timeIn === 'day') {\r\n        if (date1.getDate() === date2.getDate() && date1.getMonth() === date2.getMonth()) {\r\n          return 1;\r\n        }\r\n      }\r\n\r\n      let one;\r\n      switch (timeIn) {\r\n        case 'days':\r\n        case 'day':\r\n          one = 1000 * 60 * 60 * 24;\r\n          break;\r\n        case 'minutes':\r\n        case 'minute':\r\n          one = 1000 * 60;\r\n          break;\r\n        default:\r\n          return 0;\r\n      }\r\n\r\n      const date1Ms = date1.getTime();\r\n      const date2Ms = date2.getTime();\r\n\r\n      const diff = (date2Ms - date1Ms) / one;\r\n      return diff < 0 ? 0 : diff;\r\n    };\r\n\r\n    const eventStart = new Date(startTime);\r\n    const eventEnd = new Date(endTime);\r\n    let span = 0;\r\n    const windowStart = new Date(this.startDate);\r\n    const windowEnd = new Date(this.endDate);\r\n\r\n    windowStart.setHours(0, 0, 0, 0);\r\n    windowEnd.setHours(23, 59, 59);\r\n\r\n    if (this.viewType === ViewType.Day) {\r\n      if (headers.length > 0) {\r\n        const day = new Date(headers[0].time);\r\n        if (day.getDate() > eventStart.getDate() && day.getDate() < eventEnd.getDate()) {\r\n          span = 1440 / this.config.minuteStep;\r\n        } else if (day.getDate() > eventStart.getDate() && day.getDate() === eventEnd.getDate()) {\r\n          span = Math.ceil(timeBetween(day, eventEnd, 'minutes') / this.config.minuteStep);\r\n        } else if (day.getDate() === eventStart.getDate() && day.getDate() < eventEnd.getDate()) {\r\n          day.setHours(23, 59, 59);\r\n          span = Math.ceil(timeBetween(eventStart, day, 'minutes') / this.config.minuteStep);\r\n        } else if ((day.getDate() === eventStart.getDate() && day.getDate() === eventEnd.getDate()) || eventEnd.getDate() === eventStart.getDate()) {\r\n          span = Math.ceil(timeBetween(eventStart, eventEnd, 'minutes') / this.config.minuteStep);\r\n        }\r\n      }\r\n    } else if (this.viewType === ViewType.Week || this.viewType === ViewType.Month || this.viewType === ViewType.Quarter || this.viewType === ViewType.Year) {\r\n      const startDate = windowStart < eventStart ? eventStart : windowStart;\r\n      const endDate = windowEnd > eventEnd ? eventEnd : windowEnd;\r\n      span = Math.ceil(timeBetween(startDate, endDate, 'days'));\r\n    } else {\r\n      if (this.cellUnit === CellUnit.Day) {\r\n        eventEnd.setHours(23, 59, 59);\r\n        eventStart.setHours(0, 0, 0, 0);\r\n      }\r\n\r\n      const timeIn = this.cellUnit === CellUnit.Day ? 'days' : 'minutes';\r\n      const dividedBy = this.cellUnit === CellUnit.Day ? 1 : this.config.minuteStep;\r\n\r\n      if (windowStart >= eventStart && eventEnd <= windowEnd) {\r\n        span = Math.ceil(timeBetween(windowStart, eventEnd, timeIn) / dividedBy);\r\n      } else if (windowStart > eventStart && eventEnd > windowEnd) {\r\n        span = Math.ceil(timeBetween(windowStart, windowEnd, timeIn) / dividedBy);\r\n      } else if (windowStart <= eventStart && eventEnd >= windowEnd) {\r\n        span = Math.ceil(timeBetween(eventStart, windowEnd, timeIn) / dividedBy);\r\n      } else {\r\n        span = Math.ceil(timeBetween(eventStart, eventEnd, timeIn) / dividedBy);\r\n      }\r\n    }\r\n\r\n    return span;\r\n  }\r\n\r\n  _validateResource(resources) {\r\n    if (Object.prototype.toString.call(resources) !== '[object Array]') {\r\n      throw new Error('Resources should be Array object');\r\n    }\r\n\r\n    resources.forEach((item, index) => {\r\n      if (item === undefined) {\r\n        console.error(`Resource undefined: ${index}`);\r\n        throw new Error(`Resource undefined: ${index}`);\r\n      }\r\n      if (item.id === undefined || item.name === undefined) {\r\n        console.error('Resource property missed', index, item);\r\n        throw new Error(`Resource property undefined: ${index}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  _validateEventGroups(eventGroups) {\r\n    if (Object.prototype.toString.call(eventGroups) !== '[object Array]') {\r\n      throw new Error('Event groups should be Array object');\r\n    }\r\n\r\n    eventGroups.forEach((item, index) => {\r\n      if (item === undefined) {\r\n        console.error(`Event group undefined: ${index}`);\r\n        throw new Error(`Event group undefined: ${index}`);\r\n      }\r\n      if (item.id === undefined || item.name === undefined) {\r\n        console.error('Event group property missed', index, item);\r\n        throw new Error(`Event group property undefined: ${index}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  _validateEvents(events) {\r\n    if (Object.prototype.toString.call(events) !== '[object Array]') {\r\n      throw new Error('Events should be Array object');\r\n    }\r\n\r\n    events.forEach((e, index) => {\r\n      if (e === undefined) {\r\n        console.error(`Event undefined: ${index}`);\r\n        throw new Error(`Event undefined: ${index}`);\r\n      }\r\n      if (e.id === undefined || e.resourceId === undefined || e.title === undefined || e.start === undefined || e.end === undefined) {\r\n        console.error('Event property missed', index, e);\r\n        throw new Error(`Event property undefined: ${index}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  _validateMinuteStep(minuteStep) {\r\n    if (60 % minuteStep !== 0) {\r\n      console.error('Minute step is not set properly - 60 minutes must be divisible without remainder by this number');\r\n      throw new Error('Minute step is not set properly - 60 minutes must be divisible without remainder by this number');\r\n    }\r\n  }\r\n\r\n  _compare(event1, event2) {\r\n    const start1 = this.localeDayjs(event1.start);\r\n    const start2 = this.localeDayjs(event2.start);\r\n    if (start1 !== start2) return start1 < start2 ? -1 : 1;\r\n\r\n    const end1 = this.localeDayjs(event1.end);\r\n    const end2 = this.localeDayjs(event2.end);\r\n    if (end1 !== end2) return end1 < end2 ? -1 : 1;\r\n\r\n    return event1.id < event2.id ? -1 : 1;\r\n  }\r\n\r\n  _createRenderData() {\r\n    const initRenderData = this._createInitRenderData(this.isEventPerspective, this.eventGroups, this.resources, this.headers);\r\n    // this.events.sort(this._compare);\r\n    const cellMaxEventsCount = this.getCellMaxEvents();\r\n    const cellMaxEventsCountValue = 30;\r\n\r\n    this.events.forEach(item => {\r\n      const resourceEventsList = initRenderData.filter(x => x.slotId === this._getEventSlotId(item));\r\n      if (resourceEventsList.length > 0) {\r\n        const resourceEvents = resourceEventsList[0];\r\n        const span = this._getSpan(item.start, item.end, this.headers);\r\n        const eventStart = new Date(item.start);\r\n        const eventEnd = new Date(item.end);\r\n        let pos = -1;\r\n\r\n        resourceEvents.headerItems.forEach((header, index) => {\r\n          const headerStart = new Date(header.start);\r\n          const headerEnd = new Date(header.end);\r\n          if (headerEnd > eventStart && headerStart < eventEnd) {\r\n            header.count += 1;\r\n            if (header.count > resourceEvents.rowMaxCount) {\r\n              resourceEvents.rowMaxCount = header.count;\r\n              const rowsCount = cellMaxEventsCount <= cellMaxEventsCountValue && resourceEvents.rowMaxCount > cellMaxEventsCount ? cellMaxEventsCount : resourceEvents.rowMaxCount;\r\n              const newRowHeight = rowsCount * this.config.eventItemLineHeight + (this.config.creatable && this.config.checkConflict === false ? 20 : 2);\r\n              if (newRowHeight > resourceEvents.rowHeight) resourceEvents.rowHeight = newRowHeight;\r\n            }\r\n\r\n            if (pos === -1) {\r\n              let tmp = 0;\r\n              while (header.events[tmp] !== undefined) tmp += 1;\r\n\r\n              pos = tmp;\r\n            }\r\n            let render = headerStart <= eventStart || index === 0;\r\n            if (render === false) {\r\n              const previousHeader = resourceEvents.headerItems[index - 1];\r\n              const previousHeaderStart = new Date(previousHeader.start);\r\n              const previousHeaderEnd = new Date(previousHeader.end);\r\n              if (previousHeaderEnd <= eventStart || previousHeaderStart >= eventEnd) render = true;\r\n            }\r\n            // console.log(`span: ${span}`)\r\n            header.events[pos] = this._createHeaderEvent(render, span, item);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    if (cellMaxEventsCount <= cellMaxEventsCountValue || this.behaviors.getSummaryFunc !== undefined) {\r\n      initRenderData.forEach(resourceEvents => {\r\n        let hasSummary = false;\r\n\r\n        resourceEvents.headerItems.forEach(headerItem => {\r\n          if (cellMaxEventsCount <= cellMaxEventsCountValue) {\r\n            let renderItemsCount = 0;\r\n            let addMoreIndex = 0;\r\n            let index = 0;\r\n            while (index < cellMaxEventsCount - 1) {\r\n              if (headerItem.events[index] !== undefined) {\r\n                renderItemsCount += 1;\r\n                addMoreIndex = index + 1;\r\n              }\r\n\r\n              index += 1;\r\n            }\r\n\r\n            if (headerItem.events[index] !== undefined) {\r\n              if (renderItemsCount + 1 < headerItem.count) {\r\n                headerItem.addMore = headerItem.count - renderItemsCount;\r\n                headerItem.addMoreIndex = addMoreIndex;\r\n              }\r\n            } else if (renderItemsCount < headerItem.count) {\r\n              headerItem.addMore = headerItem.count - renderItemsCount;\r\n              headerItem.addMoreIndex = addMoreIndex;\r\n            }\r\n          }\r\n\r\n          if (this.behaviors.getSummaryFunc !== undefined) {\r\n            const events = [];\r\n            headerItem.events.forEach(e => {\r\n              if (!!e && !!e.eventItem) events.push(e.eventItem);\r\n            });\r\n\r\n            headerItem.summary = this.behaviors.getSummaryFunc(this, events, resourceEvents.slotId, resourceEvents.slotName, headerItem.start, headerItem.end);\r\n            if (!!headerItem.summary && headerItem.summary.text !== undefined) hasSummary = true;\r\n          }\r\n        });\r\n\r\n        resourceEvents.hasSummary = hasSummary;\r\n        if (hasSummary) {\r\n          const rowsCount = cellMaxEventsCount <= cellMaxEventsCountValue && resourceEvents.rowMaxCount > cellMaxEventsCount ? cellMaxEventsCount : resourceEvents.rowMaxCount;\r\n          const newRowHeight = (rowsCount + 1) * this.config.eventItemLineHeight + (this.config.creatable && this.config.checkConflict === false ? 20 : 2);\r\n          if (newRowHeight > resourceEvents.rowHeight) resourceEvents.rowHeight = newRowHeight;\r\n        }\r\n      });\r\n    }\r\n\r\n    this.renderData = initRenderData;\r\n  }\r\n\r\n  _startResizing() {\r\n    this.resizing = true;\r\n  }\r\n\r\n  _stopResizing() {\r\n    this.resizing = false;\r\n  }\r\n\r\n  _isResizing() {\r\n    return this.resizing;\r\n  }\r\n}\r\n","import { LeftOutlined, RightOutlined } from '@ant-design/icons';\r\nimport { Calendar, Col, Popover, Radio, Row, Space, Spin } from 'antd';\r\nimport dayjs from 'dayjs';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState } from 'react';\r\nimport { DATE_FORMAT } from '../config/default';\r\n\r\nconst RadioButton = Radio.Button;\r\nconst RadioGroup = Radio.Group;\r\n\r\nconst SchedulerHeader = React.forwardRef(({\r\n  onViewChange,\r\n  goNext,\r\n  goBack,\r\n  onSelectDate,\r\n  schedulerData,\r\n  leftCustomHeader,\r\n  rightCustomHeader,\r\n  style,\r\n}, ref) => {\r\n  const [viewSpinning, setViewSpinning] = useState(false);\r\n  const [dateSpinning, setDateSpinning] = useState(false);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const { viewType, showAgenda, isEventPerspective, config } = schedulerData;\r\n  const dateLabel = schedulerData.getDateLabel();\r\n  const selectDate = schedulerData.getSelectedDate();\r\n  const calendarLocale = schedulerData.getCalendarPopoverLocale()?.default?.Calendar;\r\n  const defaultValue = `${viewType}${showAgenda ? 1 : 0}${isEventPerspective ? 1 : 0}`;\r\n\r\n  const handleEvents = (func, isViewSpinning, funcArg = undefined) => {\r\n    if (isViewSpinning) {\r\n      if (config.viewChangeSpinEnabled) setViewSpinning(true);\r\n    } else if (config.dateChangeSpinEnabled) setDateSpinning(true);\r\n\r\n    const coreFunc = () => {\r\n      if (funcArg !== undefined) func(funcArg);\r\n      else func();\r\n\r\n      if (isViewSpinning) {\r\n        if (config.viewChangeSpinEnabled) setViewSpinning(false);\r\n      } else if (config.dateChangeSpinEnabled) setDateSpinning(false);\r\n    };\r\n\r\n    if (config.viewChangeSpinEnabled || config.dateChangeSpinEnabled) {\r\n      setTimeout(coreFunc, config.schedulerHeaderEventsFuncsTimeoutMs);\r\n    } else {\r\n      coreFunc();\r\n    }\r\n  };\r\n\r\n  const popover = (\r\n    <div className=\"popover-calendar\">\r\n      <Calendar\r\n        locale={calendarLocale}\r\n        defaultValue={dayjs(selectDate)}\r\n        fullscreen={false}\r\n        onSelect={date => {\r\n          setVisible(false);\r\n          handleEvents(onSelectDate, false, date.format(DATE_FORMAT));\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  const radioButtonList = config.views.map(item => (\r\n    <RadioButton\r\n      key={`${item.viewType}${item.showAgenda ? 1 : 0}${item.isEventPerspective ? 1 : 0}`}\r\n      value={`${item.viewType}${item.showAgenda ? 1 : 0}${item.isEventPerspective ? 1 : 0}`}\r\n    >\r\n      <span style={{ margin: '0px 8px' }}>{item.viewName}</span>\r\n    </RadioButton>\r\n  ));\r\n\r\n  return (\r\n    <Row\r\n      ref={ref}\r\n      gutter={[10, 10]}\r\n      type=\"flex\"\r\n      align=\"middle\"\r\n      justify=\"space-between\"\r\n      style={{ ...style }}\r\n    >\r\n      {leftCustomHeader}\r\n      <Col>\r\n        <div className=\"header2-text\">\r\n          <Space>\r\n            <div>\r\n              <LeftOutlined style={{ marginRight: '8px' }} className=\"icon-nav\" onClick={() => handleEvents(goBack, false)} />\r\n              {config.calendarPopoverEnabled ? (\r\n                <Popover\r\n                  content={popover}\r\n                  placement=\"bottomLeft\"\r\n                  trigger=\"click\"\r\n                  open={visible}\r\n                  onOpenChange={setVisible}\r\n                  overlayClassName=\"scheduler-header-popover\"\r\n                >\r\n                  <span className=\"header2-text-label\" style={{ cursor: 'pointer' }}>\r\n                    {dateLabel}\r\n                  </span>\r\n                </Popover>\r\n              ) : (\r\n                <span className=\"header2-text-label\">{dateLabel}</span>\r\n              )}\r\n              <RightOutlined style={{ marginLeft: '8px' }} className=\"icon-nav\" onClick={() => handleEvents(goNext, false)} />\r\n            </div>\r\n            <Spin spinning={dateSpinning} />\r\n          </Space>\r\n        </div>\r\n      </Col>\r\n      <Col>\r\n        <Space>\r\n          <Spin spinning={viewSpinning} />\r\n          <RadioGroup\r\n            buttonStyle=\"solid\"\r\n            defaultValue={defaultValue}\r\n            size=\"default\"\r\n            onChange={event => handleEvents(onViewChange, true, event)}\r\n          >\r\n            {radioButtonList}\r\n          </RadioGroup>\r\n        </Space>\r\n      </Col>\r\n      {rightCustomHeader}\r\n    </Row>\r\n  );\r\n});\r\n\r\nSchedulerHeader.propTypes = {\r\n  onViewChange: PropTypes.func.isRequired,\r\n  goNext: PropTypes.func.isRequired,\r\n  goBack: PropTypes.func.isRequired,\r\n  onSelectDate: PropTypes.func.isRequired,\r\n  schedulerData: PropTypes.object.isRequired,\r\n  leftCustomHeader: PropTypes.object,\r\n  rightCustomHeader: PropTypes.object,\r\n  style: PropTypes.object,\r\n};\r\n\r\nexport default SchedulerHeader;\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React from 'react';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\n\r\nexport default function WrapperFun(Component) {\r\n  return function WrappedComponent(props) {\r\n    return (\r\n      <DndProvider backend={HTML5Backend}>\r\n        <Component {...props} />\r\n      </DndProvider>\r\n    );\r\n  };\r\n}\r\n","/* eslint-disable no-nested-ternary */\r\n/* eslint-disable react/no-array-index-key */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { CellUnit } from '../config/default';\r\n\r\nfunction HeaderView({ schedulerData, nonAgendaCellHeaderTemplateResolver }) {\r\n  const { headers, cellUnit, config, localeDayjs } = schedulerData;\r\n  const headerHeight = schedulerData.getTableHeaderHeight();\r\n  const cellWidth = schedulerData.getContentCellWidth();\r\n  const minuteStepsInHour = schedulerData.getMinuteStepsInHour();\r\n\r\n  let headerList = [];\r\n  let style;\r\n\r\n  if (cellUnit === CellUnit.Hour) {\r\n    headers.forEach((item, index) => {\r\n      if (index % minuteStepsInHour === 0) {\r\n        const datetime = localeDayjs(new Date(item.time));\r\n\r\n        style = item.nonWorkingTime\r\n          ? {\r\n            width: cellWidth * minuteStepsInHour,\r\n            color: config.nonWorkingTimeHeadColor,\r\n            backgroundColor: config.nonWorkingTimeHeadBgColor,\r\n          }\r\n          : {\r\n            width: cellWidth * minuteStepsInHour,\r\n          };\r\n\r\n        if (index === headers.length - minuteStepsInHour) {\r\n          style = item.nonWorkingTime ? { color: config.nonWorkingTimeHeadColor, backgroundColor: config.nonWorkingTimeHeadBgColor } : {};\r\n        }\r\n\r\n        const pFormattedList = config.nonAgendaDayCellHeaderFormat.split('|').map(pitem => datetime.format(pitem));\r\n        let element;\r\n\r\n        if (typeof nonAgendaCellHeaderTemplateResolver === 'function') {\r\n          element = nonAgendaCellHeaderTemplateResolver(schedulerData, item, pFormattedList, style);\r\n        } else {\r\n          const pList = pFormattedList.map((formattedItem, pIndex) => <div key={pIndex}>{formattedItem}</div>);\r\n\r\n          element = (\r\n            <th key={`header-${item.time}`} className=\"header3-text\" style={style}>\r\n              <div>{pList}</div>\r\n            </th>\r\n          );\r\n        }\r\n        headerList.push(element);\r\n      }\r\n    });\r\n  } else {\r\n    headerList = headers.map((item, index) => {\r\n      const datetime = localeDayjs(new Date(item.time));\r\n      style = item.nonWorkingTime\r\n        ? {\r\n          width: cellWidth,\r\n          color: config.nonWorkingTimeHeadColor,\r\n          backgroundColor: config.nonWorkingTimeHeadBgColor,\r\n        }\r\n        : { width: cellWidth };\r\n      if (index === headers.length - 1) style = item.nonWorkingTime ? { color: config.nonWorkingTimeHeadColor, backgroundColor: config.nonWorkingTimeHeadBgColor } : {};\r\n      const cellFormat = cellUnit === CellUnit.Week\r\n        ? config.nonAgendaWeekCellHeaderFormat\r\n        : cellUnit === CellUnit.Month\r\n          ? config.nonAgendaMonthCellHeaderFormat\r\n          : cellUnit === CellUnit.Year\r\n            ? config.nonAgendaYearCellHeaderFormat\r\n            : config.nonAgendaOtherCellHeaderFormat;\r\n      const pFormattedList = cellFormat.split('|').map(dateFormatPart => datetime.format(dateFormatPart));\r\n\r\n      if (typeof nonAgendaCellHeaderTemplateResolver === 'function') {\r\n        return nonAgendaCellHeaderTemplateResolver(schedulerData, item, pFormattedList, style);\r\n      }\r\n\r\n      const pList = pFormattedList.map((formattedItem, pIndex) => <div key={pIndex}>{formattedItem}</div>);\r\n\r\n      return (\r\n        <th key={`header-${item.time}`} className=\"header3-text\" style={style}>\r\n          <div>{pList}</div>\r\n        </th>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <thead>\r\n      <tr style={{ height: headerHeight }}>{headerList}</tr>\r\n    </thead>\r\n  );\r\n}\r\n\r\nHeaderView.propTypes = {\r\n  schedulerData: PropTypes.object.isRequired,\r\n  nonAgendaCellHeaderTemplateResolver: PropTypes.func,\r\n};\r\n\r\n// HeaderView.defaultProps = {\r\n//   nonAgendaCellHeaderTemplateResolver: null,\r\n// };\r\n\r\nexport default HeaderView;\r\n","/* eslint-disable consistent-return */\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { CellUnit, DATETIME_FORMAT, DATE_FORMAT, SummaryPos, ViewType } from '../config/default';\r\nimport DemoData from '../sample-data/sample1';\r\nimport AddMorePopover from './AddMorePopover';\r\nimport AgendaView from './AgendaView';\r\nimport BodyView from './BodyView';\r\nimport DnDContext from './DnDContext';\r\nimport DnDSource from './DnDSource';\r\nimport EventItem from './EventItem';\r\nimport ResourceEvents from './ResourceEvents';\r\nimport ResourceView from './ResourceView';\r\nimport SchedulerData from './SchedulerData';\r\nimport SchedulerHeader from './SchedulerHeader';\r\nimport wrapperFun from './WrapperFun';\r\nimport HeaderView from './HeaderView';\r\n\r\nfunction Scheduler(props) {\r\n  const {\r\n    schedulerData,\r\n    dndSources,\r\n    parentRef,\r\n    prevClick,\r\n    nextClick,\r\n    onViewChange,\r\n    onSelectDate,\r\n    leftCustomHeader,\r\n    rightCustomHeader,\r\n  } = props;\r\n\r\n  // Initialize DnD context\r\n  const initDndContext = () => {\r\n    let sources = [];\r\n    sources.push(new DnDSource(dndProps => dndProps.eventItem, EventItem, schedulerData.config.dragAndDropEnabled));\r\n    if (dndSources !== undefined && dndSources.length > 0) {\r\n      sources = [...sources, ...dndSources];\r\n    }\r\n    return new DnDContext(sources, ResourceEvents);\r\n  };\r\n\r\n  // State initialization\r\n  const [state, setState] = useState({\r\n    dndContext: initDndContext(),\r\n    contentScrollbarHeight: 17,\r\n    contentScrollbarWidth: 17,\r\n    resourceScrollbarHeight: 17,\r\n    resourceScrollbarWidth: 17,\r\n    documentWidth: 0,\r\n    documentHeight: 0,\r\n    headerHeight: 0,\r\n  });\r\n\r\n  // Refs instead of class properties\r\n  const currentAreaRef = useRef(-1);\r\n  const scrollLeftRef = useRef(0);\r\n  const scrollTopRef = useRef(0);\r\n  const schedulerHeadRef = useRef(null);\r\n  const schedulerHeaderRef = useRef(null);\r\n  const schedulerResourceRef = useRef(null);\r\n  const schedulerContentRef = useRef(null);\r\n  const schedulerContentBgTableRef = useRef(null);\r\n  const ulObserverRef = useRef(null);\r\n  const headerObserverRef = useRef(null);\r\n\r\n  // Window resize handler\r\n  const onWindowResize = useCallback(() => {\r\n    schedulerData._setDocumentWidth(document.documentElement.clientWidth);\r\n    schedulerData._setDocumentHeight(document.documentElement.clientHeight);\r\n    setState(prevState => ({\r\n      ...prevState,\r\n      documentWidth: document.documentElement.clientWidth,\r\n      documentHeight: document.documentElement.clientHeight,\r\n    }));\r\n  }, [schedulerData]);\r\n\r\n  // Effect for window resize event\r\n  useEffect(() => {\r\n    if ((schedulerData.isSchedulerResponsive() && !schedulerData.config.responsiveByParent) || parentRef === undefined) {\r\n      schedulerData._setDocumentWidth(document.documentElement.clientWidth);\r\n      schedulerData._setDocumentHeight(document.documentElement.clientHeight);\r\n      window.addEventListener('resize', onWindowResize);\r\n\r\n      return () => {\r\n        window.removeEventListener('resize', onWindowResize);\r\n      };\r\n    }\r\n  }, [schedulerData, parentRef, onWindowResize]);\r\n\r\n  // Effect for parent element resize observation\r\n  useEffect(() => {\r\n    if (parentRef !== undefined) {\r\n      if (schedulerData.config.responsiveByParent && !!parentRef.current) {\r\n        schedulerData._setDocumentWidth(parentRef.current.offsetWidth);\r\n\r\n        ulObserverRef.current = new ResizeObserver(() => {\r\n          if (parentRef.current) {\r\n            const width = parentRef.current.offsetWidth;\r\n            const height = parentRef.current.offsetHeight;\r\n            schedulerData._setDocumentWidth(width);\r\n            schedulerData._setDocumentHeight(height);\r\n            setState(prevState => ({\r\n              ...prevState,\r\n              documentWidth: width,\r\n              documentHeight: height,\r\n            }));\r\n          }\r\n        });\r\n\r\n        ulObserverRef.current.observe(parentRef.current);\r\n\r\n        return () => {\r\n          if (ulObserverRef.current && parentRef.current) {\r\n            ulObserverRef.current.unobserve(parentRef.current);\r\n          }\r\n        };\r\n      }\r\n    }\r\n  }, [parentRef, schedulerData]);\r\n\r\n  // Effect for scheduler header resize observation\r\n  useEffect(() => {\r\n    if (schedulerHeaderRef !== undefined) {\r\n      if (schedulerData.config.responsiveByParent && !!schedulerHeaderRef.current) {\r\n        schedulerData._setDocumentWidth(schedulerHeaderRef.current.offsetWidth);\r\n        schedulerData._setDocumentHeight(schedulerHeaderRef.current.offsetHeight);\r\n        headerObserverRef.current = new ResizeObserver(entries => {\r\n          entries.forEach(entry => {\r\n            // Get the DOM node\r\n            const node = entry.target;\r\n            // Get the height from the bounding rect (includes padding and border)\r\n            const rect = node.getBoundingClientRect();\r\n            // Get computed styles for margins\r\n            const style = window.getComputedStyle(node);\r\n            const marginTop = parseFloat(style.marginTop) || 0;\r\n            const marginBottom = parseFloat(style.marginBottom) || 0;\r\n            // Total height including margins\r\n            const totalHeight = rect.height + marginTop + marginBottom;\r\n            schedulerData._setSchedulerHeaderHeight(totalHeight);\r\n            setState(prevState => ({\r\n              ...prevState,\r\n              headerHeight: totalHeight,\r\n            }));\r\n          });\r\n        });\r\n\r\n        headerObserverRef.current.observe(schedulerHeaderRef.current);\r\n\r\n        return () => {\r\n          if (headerObserverRef.current && schedulerHeaderRef.current) {\r\n            headerObserverRef.current.unobserve(schedulerHeaderRef.current);\r\n          }\r\n        };\r\n      }\r\n    }\r\n  }, [schedulerHeaderRef, schedulerData]);\r\n\r\n  // Resolving scrollbar sizes\r\n  const resolveScrollbarSize = useCallback(() => {\r\n    let contentScrollbarHeight = 17;\r\n    let contentScrollbarWidth = 17;\r\n    let resourceScrollbarHeight = 17;\r\n    let resourceScrollbarWidth = 17;\r\n\r\n    if (schedulerContentRef.current) {\r\n      contentScrollbarHeight = schedulerContentRef.current.offsetHeight - schedulerContentRef.current.clientHeight;\r\n      contentScrollbarWidth = schedulerContentRef.current.offsetWidth - schedulerContentRef.current.clientWidth;\r\n    }\r\n\r\n    if (schedulerResourceRef.current) {\r\n      resourceScrollbarHeight = schedulerResourceRef.current.offsetHeight - schedulerResourceRef.current.clientHeight;\r\n      resourceScrollbarWidth = schedulerResourceRef.current.offsetWidth - schedulerResourceRef.current.clientWidth;\r\n    }\r\n\r\n    let needSet = false;\r\n    let tmpState = {};\r\n\r\n    if (contentScrollbarHeight !== state.contentScrollbarHeight) {\r\n      tmpState = { ...tmpState, contentScrollbarHeight };\r\n      needSet = true;\r\n    }\r\n    if (contentScrollbarWidth !== state.contentScrollbarWidth) {\r\n      tmpState = { ...tmpState, contentScrollbarWidth };\r\n      needSet = true;\r\n    }\r\n    if (resourceScrollbarHeight !== state.resourceScrollbarHeight) {\r\n      tmpState = { ...tmpState, resourceScrollbarHeight };\r\n      needSet = true;\r\n    }\r\n    if (resourceScrollbarWidth !== state.resourceScrollbarWidth) {\r\n      tmpState = { ...tmpState, resourceScrollbarWidth };\r\n      needSet = true;\r\n    }\r\n\r\n    if (needSet) {\r\n      setState(prevState => ({\r\n        ...prevState,\r\n        ...tmpState,\r\n      }));\r\n    }\r\n  }, [state.contentScrollbarHeight, state.contentScrollbarWidth, state.resourceScrollbarHeight, state.resourceScrollbarWidth]);\r\n\r\n  // Effect for scrollToSpecialDayjs functionality\r\n  useEffect(() => {\r\n    resolveScrollbarSize();\r\n\r\n    const { localeDayjs, behaviors } = schedulerData;\r\n    if (schedulerData.getScrollToSpecialDayjs() && !!behaviors.getScrollSpecialDayjsFunc) {\r\n      if (!!schedulerContentRef.current && schedulerContentRef.current.scrollWidth > schedulerContentRef.current.clientWidth) {\r\n        const start = localeDayjs(new Date(schedulerData.startDate)).startOf('day');\r\n        const end = localeDayjs(new Date(schedulerData.endDate)).endOf('day');\r\n        const specialDayjs = behaviors.getScrollSpecialDayjsFunc(schedulerData, start, end);\r\n        if (specialDayjs >= start && specialDayjs <= end) {\r\n          let index = 0;\r\n          schedulerData.headers.forEach(item => {\r\n            const header = localeDayjs(new Date(item.time));\r\n            if (specialDayjs >= header) {\r\n              index += 1;\r\n            }\r\n          });\r\n          schedulerContentRef.current.scrollLeft = (index - 1) * schedulerData.getContentCellWidth();\r\n\r\n          schedulerData.setScrollToSpecialDayjs(false);\r\n        }\r\n      }\r\n    }\r\n  }, [schedulerData, resolveScrollbarSize]);\r\n\r\n  // Mouse event handlers\r\n  const onSchedulerHeadMouseOver = useCallback(() => {\r\n    currentAreaRef.current = 2;\r\n  }, []);\r\n\r\n  const onSchedulerHeadMouseOut = useCallback(() => {\r\n    currentAreaRef.current = -1;\r\n  }, []);\r\n\r\n  const onSchedulerHeadScroll = useCallback(() => {\r\n    if ((currentAreaRef.current === 2 || currentAreaRef.current === -1) && schedulerContentRef.current.scrollLeft !== schedulerHeadRef.current.scrollLeft) {\r\n      schedulerContentRef.current.scrollLeft = schedulerHeadRef.current.scrollLeft;\r\n    }\r\n  }, []);\r\n\r\n  const onSchedulerResourceMouseOver = useCallback(() => {\r\n    currentAreaRef.current = 1;\r\n  }, []);\r\n\r\n  const onSchedulerResourceMouseOut = useCallback(() => {\r\n    currentAreaRef.current = -1;\r\n  }, []);\r\n\r\n  const onSchedulerResourceScroll = useCallback(() => {\r\n    if (schedulerResourceRef.current) {\r\n      if ((currentAreaRef.current === 1 || currentAreaRef.current === -1) && schedulerContentRef.current.scrollTop !== schedulerResourceRef.current.scrollTop) {\r\n        schedulerContentRef.current.scrollTop = schedulerResourceRef.current.scrollTop;\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const onSchedulerContentMouseOver = useCallback(() => {\r\n    currentAreaRef.current = 0;\r\n  }, []);\r\n\r\n  const onSchedulerContentMouseOut = useCallback(() => {\r\n    currentAreaRef.current = -1;\r\n  }, []);\r\n\r\n  const onSchedulerContentScroll = useCallback(() => {\r\n    if (schedulerResourceRef.current) {\r\n      if (currentAreaRef.current === 0 || currentAreaRef.current === -1) {\r\n        if (schedulerHeadRef.current.scrollLeft !== schedulerContentRef.current.scrollLeft) {\r\n          schedulerHeadRef.current.scrollLeft = schedulerContentRef.current.scrollLeft;\r\n        }\r\n        if (schedulerResourceRef.current.scrollTop !== schedulerContentRef.current.scrollTop) {\r\n          schedulerResourceRef.current.scrollTop = schedulerContentRef.current.scrollTop;\r\n        }\r\n      }\r\n    }\r\n\r\n    const { onScrollLeft, onScrollRight, onScrollTop, onScrollBottom } = props;\r\n\r\n    if (schedulerContentRef.current.scrollLeft !== scrollLeftRef.current) {\r\n      if (schedulerContentRef.current.scrollLeft === 0 && onScrollLeft !== undefined) {\r\n        onScrollLeft(schedulerData, schedulerContentRef.current, schedulerContentRef.current.scrollWidth - schedulerContentRef.current.clientWidth);\r\n      }\r\n      if (Math.round(schedulerContentRef.current.scrollLeft) === schedulerContentRef.current.scrollWidth - schedulerContentRef.current.clientWidth && onScrollRight !== undefined) {\r\n        onScrollRight(schedulerData, schedulerContentRef.current, schedulerContentRef.current.scrollWidth - schedulerContentRef.current.clientWidth);\r\n      }\r\n    } else if (schedulerContentRef.current.scrollTop !== scrollTopRef.current) {\r\n      if (schedulerContentRef.current.scrollTop === 0 && onScrollTop !== undefined) {\r\n        onScrollTop(schedulerData, schedulerContentRef.current, schedulerContentRef.current.scrollHeight - schedulerContentRef.current.clientHeight);\r\n      }\r\n      if (Math.round(schedulerContentRef.current.scrollTop) === schedulerContentRef.current.scrollHeight - schedulerContentRef.current.clientHeight && onScrollBottom !== undefined) {\r\n        onScrollBottom(schedulerData, schedulerContentRef.current, schedulerContentRef.current.scrollHeight - schedulerContentRef.current.clientHeight);\r\n      }\r\n    }\r\n\r\n    scrollLeftRef.current = schedulerContentRef.current.scrollLeft;\r\n    scrollTopRef.current = schedulerContentRef.current.scrollTop;\r\n  }, [props, schedulerData]);\r\n\r\n  // Event handlers\r\n  const handleViewChange = useCallback(e => {\r\n    const viewType = parseInt(e.target.value.charAt(0), 10);\r\n    const showAgenda = e.target.value.charAt(1) === '1';\r\n    const isEventPerspective = e.target.value.charAt(2) === '1';\r\n    onViewChange(schedulerData, { viewType, showAgenda, isEventPerspective });\r\n  }, [onViewChange, schedulerData]);\r\n\r\n  const goNext = useCallback(() => {\r\n    nextClick(schedulerData);\r\n  }, [nextClick, schedulerData]);\r\n\r\n  const goBack = useCallback(() => {\r\n    prevClick(schedulerData);\r\n  }, [prevClick, schedulerData]);\r\n\r\n  const onSelect = useCallback(date => {\r\n    onSelectDate(schedulerData, date);\r\n  }, [onSelectDate, schedulerData]);\r\n\r\n  // Rendering\r\n  const { viewType, renderData, showAgenda, config } = schedulerData;\r\n  const width = schedulerData.getSchedulerWidth();\r\n  const { contentScrollbarHeight, contentScrollbarWidth, resourceScrollbarHeight, resourceScrollbarWidth } = state;\r\n\r\n  let tbodyContent = <tr />;\r\n  if (showAgenda) {\r\n    tbodyContent = <AgendaView {...props} />;\r\n  } else {\r\n    const resourceTableWidth = schedulerData.getResourceTableWidth();\r\n    const schedulerContainerWidth = width - (config.resourceViewEnabled ? resourceTableWidth : 0);\r\n    const schedulerWidth = schedulerData.getContentTableWidth() - 1;\r\n    const DndResourceEvents = state.dndContext.getDropTarget(config.dragAndDropEnabled);\r\n    const eventDndSource = state.dndContext.getDndSource();\r\n\r\n    const displayRenderData = renderData.filter(o => o.render);\r\n    const resourceEventsList = displayRenderData.map(item => (\r\n      <DndResourceEvents {...props} key={item.slotId} resourceEvents={item} dndSource={eventDndSource} />\r\n    ));\r\n\r\n    const contentHeight = config.schedulerContentHeight;\r\n    const resourcePaddingBottom = resourceScrollbarHeight === 0 ? contentScrollbarHeight : 0;\r\n    const contentPaddingBottom = contentScrollbarHeight === 0 ? resourceScrollbarHeight : 0;\r\n\r\n    let schedulerContentStyle = {\r\n      overflowX: viewType === ViewType.Week ? 'hidden' : 'auto',\r\n      overflowY: 'auto',\r\n      margin: '0px',\r\n      position: 'relative',\r\n      height: contentHeight,\r\n      paddingBottom: contentPaddingBottom,\r\n    };\r\n\r\n    let resourceContentStyle = {\r\n      height: contentHeight,\r\n      overflowX: 'auto',\r\n      overflowY: 'auto',\r\n      width: resourceTableWidth + resourceScrollbarWidth - 2,\r\n      margin: `0px -${contentScrollbarWidth}px 0px 0px`,\r\n    };\r\n\r\n    if (config.schedulerMaxHeight > 0) {\r\n      schedulerContentStyle = {\r\n        ...schedulerContentStyle,\r\n        maxHeight: config.schedulerMaxHeight - config.tableHeaderHeight,\r\n      };\r\n      resourceContentStyle = {\r\n        ...resourceContentStyle,\r\n        maxHeight: config.schedulerMaxHeight - config.tableHeaderHeight,\r\n      };\r\n    } else if (config.responsiveByParent && schedulerData.documentHeight > 0) {\r\n      // Responsive height minus SchedulerHeader\r\n      const availableHeight = schedulerData.getSchedulerHeight();\r\n\r\n      schedulerContentStyle = {\r\n        ...schedulerContentStyle,\r\n        height: availableHeight,\r\n      };\r\n      resourceContentStyle = {\r\n        ...resourceContentStyle,\r\n        height: availableHeight,\r\n      };\r\n    }\r\n\r\n    const resourceName = schedulerData.isEventPerspective ? config.taskName : config.resourceName;\r\n\r\n    tbodyContent = (\r\n      <tr>\r\n        <td style={{ display: config.resourceViewEnabled ? undefined : 'none', width: resourceTableWidth, verticalAlign: 'top' }}>\r\n          <div className=\"resource-view\">\r\n            <div style={{ overflow: 'hidden', borderBottom: '1px solid #e9e9e9', height: config.tableHeaderHeight }}>\r\n              <div style={{ overflowX: 'scroll', overflowY: 'hidden', margin: `0px 0px -${contentScrollbarHeight}px` }}>\r\n                <table className=\"resource-table\">\r\n                  <thead>\r\n                    <tr style={{ height: config.tableHeaderHeight }}>\r\n                      <th className=\"header3-text\">{resourceName}</th>\r\n                    </tr>\r\n                  </thead>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={resourceContentStyle}\r\n              ref={schedulerResourceRef}\r\n              onMouseOver={onSchedulerResourceMouseOver}\r\n              onFocus={onSchedulerResourceMouseOver}\r\n              onMouseOut={onSchedulerResourceMouseOut}\r\n              onBlur={onSchedulerResourceMouseOut}\r\n              onScroll={onSchedulerResourceScroll}\r\n            >\r\n              <ResourceView {...props} contentScrollbarHeight={resourcePaddingBottom} />\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div className=\"scheduler-view\" style={{ width: schedulerContainerWidth, verticalAlign: 'top' }}>\r\n            <div style={{ overflow: 'hidden', borderBottom: '1px solid #e9e9e9', height: config.tableHeaderHeight }}>\r\n              <div\r\n                style={{ overflowX: 'scroll', overflowY: 'hidden', margin: `0px 0px -${contentScrollbarHeight}px` }}\r\n                ref={schedulerHeadRef}\r\n                onMouseOver={onSchedulerHeadMouseOver}\r\n                onFocus={onSchedulerHeadMouseOver}\r\n                onMouseOut={onSchedulerHeadMouseOut}\r\n                onBlur={onSchedulerHeadMouseOut}\r\n                onScroll={onSchedulerHeadScroll}\r\n                aria-label=\"Scheduler Header\"\r\n              >\r\n                <div style={{ paddingRight: `${contentScrollbarWidth}px`, width: schedulerWidth + contentScrollbarWidth }}>\r\n                  <table className=\"scheduler-bg-table\">\r\n                    <HeaderView {...props} />\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={schedulerContentStyle}\r\n              ref={schedulerContentRef}\r\n              onMouseOver={onSchedulerContentMouseOver}\r\n              onFocus={onSchedulerContentMouseOver}\r\n              onMouseOut={onSchedulerContentMouseOut}\r\n              onBlur={onSchedulerContentMouseOut}\r\n              onScroll={onSchedulerContentScroll}\r\n            >\r\n              <div style={{ width: schedulerWidth }}>\r\n                <div className=\"scheduler-content\">\r\n                  <table className=\"scheduler-content-table\">\r\n                    <tbody>{resourceEventsList}</tbody>\r\n                  </table>\r\n                </div>\r\n                <div className=\"scheduler-bg\">\r\n                  <table className=\"scheduler-bg-table\" style={{ width: schedulerWidth }} ref={schedulerContentBgTableRef}>\r\n                    <BodyView {...props} />\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  const schedulerHeader = (\r\n    <SchedulerHeader\r\n      ref={schedulerHeaderRef}\r\n      style={{\r\n        display: config.headerEnabled ? undefined : 'none',\r\n        marginBottom: config.headerEnabled ? '24px' : undefined,\r\n      }}\r\n      onViewChange={handleViewChange}\r\n      schedulerData={schedulerData}\r\n      onSelectDate={onSelect}\r\n      goNext={goNext}\r\n      goBack={goBack}\r\n      rightCustomHeader={rightCustomHeader}\r\n      leftCustomHeader={leftCustomHeader}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <table id=\"RBS-Scheduler-root\" className=\"react-big-schedule\" style={{ width: `${width}px` }}>\r\n      <thead>\r\n        <tr>\r\n          <td colSpan=\"2\">{schedulerHeader}</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{tbodyContent}</tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nScheduler.propTypes = {\r\n  parentRef: PropTypes.object,\r\n  schedulerData: PropTypes.object.isRequired,\r\n  prevClick: PropTypes.func.isRequired,\r\n  nextClick: PropTypes.func.isRequired,\r\n  onViewChange: PropTypes.func.isRequired,\r\n  onSelectDate: PropTypes.func.isRequired,\r\n  onSetAddMoreState: PropTypes.func,\r\n  updateEventStart: PropTypes.func,\r\n  updateEventEnd: PropTypes.func,\r\n  moveEvent: PropTypes.func,\r\n  movingEvent: PropTypes.func,\r\n  leftCustomHeader: PropTypes.object,\r\n  rightCustomHeader: PropTypes.object,\r\n  newEvent: PropTypes.func,\r\n  subtitleGetter: PropTypes.func,\r\n  eventItemClick: PropTypes.func,\r\n  viewEventClick: PropTypes.func,\r\n  viewEventText: PropTypes.string,\r\n  viewEvent2Click: PropTypes.func,\r\n  viewEvent2Text: PropTypes.string,\r\n  conflictOccurred: PropTypes.func,\r\n  eventItemTemplateResolver: PropTypes.func,\r\n  dndSources: PropTypes.array,\r\n  slotClickedFunc: PropTypes.func,\r\n  toggleExpandFunc: PropTypes.func,\r\n  slotItemTemplateResolver: PropTypes.func,\r\n  nonAgendaCellHeaderTemplateResolver: PropTypes.func,\r\n  onScrollLeft: PropTypes.func,\r\n  onScrollRight: PropTypes.func,\r\n  onScrollTop: PropTypes.func,\r\n  onScrollBottom: PropTypes.func,\r\n};\r\n\r\nexport {\r\n  AddMorePopover,\r\n  CellUnit,\r\n  DATETIME_FORMAT,\r\n  DATE_FORMAT,\r\n  DemoData,\r\n  DnDContext,\r\n  DnDSource,\r\n  Scheduler,\r\n  SchedulerData,\r\n  SummaryPos,\r\n  ViewType,\r\n  wrapperFun,\r\n};\r\n","/* eslint-disable */\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row } from 'antd';\r\n\r\nfunction SourceCode({ value }) {\r\n  return (\r\n    <Row align=\"middle\" justify=\"center\">\r\n      <Link to={value} target=\"_blank\">\r\n        &lt;/&gt; Source Code\r\n      </Link>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default SourceCode;\r\n"],"names":["DATE_FORMAT","DATETIME_FORMAT","ViewType","Day","Week","Month","Quarter","Year","Custom","Custom1","Custom2","DnDTypes","resources","id","name","title","groupOnly","parentId","events","start","end","resourceId","bgColor","showPopover","resizable","movable","startResizable","endResizable","rrule","eventsForTaskView","groupId","groupName","eventsForCustomEventStyle","type","EventItemPopover","_ref","schedulerData","eventItem","startTime","endTime","statusColor","subtitleGetter","viewEventClick","viewEventText","viewEvent2Click","viewEvent2Text","eventItemPopoverTemplateResolver","localeDayjs","config","Date","subtitle","showViewEvent","undefined","clickable1","showViewEvent2","clickable2","renderViewEvent","text","clickHandler","marginLeft","arguments","length","React","className","style","color","cursor","concat","onClick","width","eventItemPopoverWidth","Row","align","eventItemPopoverShowColor","Col","span","backgroundColor","format","eventItemPopoverDateFormat","propTypes","PropTypes","isRequired","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","apply","_next","_throw","_defineProperties","_toPropertyKey","key","_isNativeReflectConstruct","Boolean","valueOf","Reflect","construct","_getPrototypeOf","_setPrototypeOf","_defineProperty","_typeof","toPrimitive","String","_toPrimitive","stopDragHelper","count","cellUnit","dragType","tCount","result","displayWeekend","date","add","dayOfWeek","day","_ref2","isInPopover","_ref3","EventItem","_Component","props","_this","_classCallCheck","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","constructor","_callSuper","eventType","resizer","startResizer","endResizer","doDrag","doStartDrag","doEndDrag","stopDrag","stopStartDrag","stopEndDrag","cancelDrag","cancelStartDrag","cancelEndDrag","supportTouch","document","documentElement","ev","_this$props","slotId","_getEventSlotId","slot","getSlotById","_isResizing","stopPropagation","clientX","changedTouches","pageX","buttons","setState","_startResizing","resizerHelper","onselectstart","ondragstart","initDragHelper","_this$props2","left","leftIndex","rightIndex","cellWidth","getContentCellWidth","offset","minWidth","maxWidth","startX","state","newLeft","newWidth","_ref4","_callee","_this$props3","top","updateEventStart","conflictOccurred","touch","deltaX","sign","newStart","hasConflict","slotName","_context","_stopResizing","Math","floor","abs","ceil","minuteStep","checkConflict","forEach","eStart","eEnd","console","log","subscribeResizeEvent","_x","removeEventListener","_this$props4","_this$props5","headers","endX","_ref5","_callee2","_this$props6","updateEventEnd","newEnd","_context2","error","_x2","_this$props7","event","rect","eventItemRef","current","getBoundingClientRect","contentMousePosX","eventItemLeftRect","eventItemRightRect","right","initStartDrag","addEventListener","initEndDrag","_isMounted","_inherits","this","window","prevProps","_this$props8","roundCls","_this2","_this$props9","isStart","isEnd","eventItemClick","isDragging","connectDragSource","connectDragPreview","eventItemTemplateResolver","_this$state","popoverPlacement","eventItemPopoverPlacement","isPopoverPlacementMousePosition","test","defaultEventBgColor","titleText","behaviors","getEventTextFunc","content","_extends","eventTitle","startResizeDiv","ref","endResizeDiv","eventItemTemplate","height","eventItemHeight","lineHeight","onMouseMove","handleMouseMove","_getMousePositionOpti","popoverOffsetX","mousePositionPlacement","isMousePositionPlacementLeft","includes","popoverWidth","eventItemMousePosX","posAdjustControl","replace","innerWidth","getMousePositionOptionsData","aItem","dragAndDropEnabled","eventItemPopoverEnabled","Popover","motion","overflow","placement","trigger","eventItemPopoverTrigger","overlayClassName","Component","object","bool","number","func","moveEvent","string","defaultProps","DnDSource","_createClass","resolveDragObjFunc","DecoratedComponent","DnDEnabled","dndType","beginDrag","endDrag","monitor","didDrop","newEvent","viewType","item","getItem","getItemType","dropResult","getDropResult","initialStart","action","isEvent","relativeMove","diff","tmpDayjs","year","month","crossResourceMove","canDrag","resourceEvents","connect","dragSource","dragPreview","DragSource","getDragSpec","getDragCollect","AddMorePopover","headerItem","closeAction","time","dndSource","useState","header","addMorePopoverHeaderFormat","durationStart","durationEnd","DnDEventItem","getDragSource","eventList","map","evt","eventStart","eventEnd","eventItemTop","eventItemLineHeight","justify","CloseOutlined","filter","AgendaEventItem","eventItemStyle","agendaMaxEventWidth","eventLink","AgendaResourceEvents","slotClickedFunc","slotItemTemplateResolver","startDate","endDate","getResourceTableWidth","headerItems","flatMap","headerStart","headerEnd","slotItemContent","slotItem","slotTitle","temp","minHeight","AgendaView","renderData","agendaResourceTableWidth","tableHeaderHeight","getTableHeaderHeight","resourceName","isEventPerspective","taskName","agendaViewHeader","resourceEventsList","BodyView","tableRows","render","rowHeight","rowCells","index","nonWorkingTime","nonWorkingTimeBodyBgColor","groupOnlySlotColor","getNonAgendaViewBodyCellBgColorFunc","cellBgColor","getPos","element","x","currentElement","offsetLeft","scrollLeft","offsetTop","scrollTop","offsetParent","DnDContext","sources","pos","initialPoint","getInitialClientOffset","initialLeftIndex","initialEnd","hour","minute","second","drop","component","eventContainer","initialStartTime","initialEndTime","_this$extractInitialT","extractInitialTimes","point","getClientOffset","hover","movingEvent","canDrop","connectDropTarget","dropTarget","isOver","DropTarget","sourceMap","keys","getDropSpec","getDropCollect","get","Map","set","AddMore","clickAction","textAlign","SelectedArea","selectedAreaStyle","bottom","selectedAreaColor","Summary","summary","summaryColor","summaryPos","_objectSpread","marginRight","fontSize","ResourceEvents","initDrag","isSelecting","srcElement","target","_this$dragHelper2","_slicedToArray","dragHelper","_this$dragHelper4","currentX","min","max","onSetAddMoreState","indexOf","creatable","supportTouchHelper","_this$state2","cellMaxEvents","getCellMaxEvents","rowWidth","getContentTableWidth","selectedArea","isTop","marginTop","hasSummary","renderEventsMaxIndex","addMore","addMoreIndex","idx","dayStartFrom","dayStopTo","push","addMoreItem","onAddMoreClick","eventContainerRef","ResourceView","contentScrollbarHeight","toggleExpandFunc","paddingBottom","displayRenderData","resourceList","indents","indent","iconProps","handleToggleExpand","hasChildren","expanded","MinusSquareOutlined","PlusSquareOutlined","slotCell","resolvedTemplate","tdStyle","renderSlotItem","schedulerWidth","besidesWidth","underneathHeight","schedulerMaxHeight","schedulerContentHeight","responsiveByParent","dayResourceTableWidth","weekResourceTableWidth","monthResourceTableWidth","quarterResourceTableWidth","yearResourceTableWidth","customResourceTableWidth","dayCellWidth","weekCellWidth","monthCellWidth","quarterCellWidth","yearCellWidth","customCellWidth","dayMaxEvents","weekMaxEvents","monthMaxEvents","quarterMaxEvents","yearMaxEvents","customMaxEvents","nonAgendaSlotMinHeight","nonWorkingTimeHeadColor","nonWorkingTimeHeadBgColor","scrollToSpecialDayjsEnabled","calendarPopoverEnabled","recurringEventsEnabled","viewChangeSpinEnabled","dateChangeSpinEnabled","headerEnabled","resourceViewEnabled","defaultExpanded","schedulerHeaderEventsFuncsTimeoutMs","nonAgendaDayCellHeaderFormat","nonAgendaWeekCellHeaderFormat","nonAgendaMonthCellHeaderFormat","nonAgendaYearCellHeaderFormat","nonAgendaOtherCellHeaderFormat","views","viewName","showAgenda","getSummaryFunc","getCustomDateFunc","getScrollSpecialDayjsFunc","getDateLabelFunc","dateLabel","_schedulerData$resour","find","isNonWorkingTimeFunc","SchedulerData","dayjs","newConfig","newBehaviors","eventGroups","eventGroupsAutoGenerated","resizing","scrollToSpecialDayjs","documentWidth","documentHeight","schedulerHeaderHeight","_shouldReloadViewType","calendarPopoverLocale","quarterOfYear","weekday","utc","_validateMinuteStep","_resolveDate","_createHeaders","_createRenderData","preset","locale","setViewType","lang","_validateResource","Array","from","Set","setScrollToSpecialDayjs","autoGenerated","_validateEventGroups","resource","eventGroup","eventGroupId","splice","_validateEvents","_generateEventGroups","_handleRecurringEvents","startOf","endOf","selectDate","now","newSchedulerMaxHeight","endsWith","slotEntered","slotIndent","isExpanded","expandedMap","expandStatus","resourceTableWidth","getResourceTableConfigWidth","contentCellWidth","getContentCellConfigWidth","baseWidth","isSchedulerResponsive","parseInt","Number","slice","headerHeight","baseHeight","validBaseHeight","schedulerHeight","setSchedulerMaxHeight","resourceTableConfigWidth","getSchedulerWidth","isResourceViewResponsive","contentCellConfigWidth","isContentViewResponsive","getSlots","configProperty","_attachEvent","_detachEvent","eventSource","eventDest","tempEventSource","tempEventDest","newSlotId","newSlotName","windowStart","windowEnd","eventId","recurringEvents","oldDtstart","oldStart","oldEnd","rule","rrulestr","oldUntil","origOptions","until","toDate","dtstart","toString","exdates","exrule","rruleSet","RRuleSet","exdate","between","recurringEventId","recurringEventStart","recurringEventEnd","tzid","utcOffset","isEventInTimeWindow","num","_this3","setStartAndEndDates","unit","Error","customDate","prevHour","minuteSteps","getMinuteStepsInHour","endValue","startValue","incrementUnit","_getEventGroupId","_this4","_getEventGroupName","has","_this5","slots","slotTree","slotMap","headerEvents","_createInitHeaderEvents","slotRenderData","rowMaxCount","data","children","parentValue","slotStack","currentNode","initRenderData","pop","timeBetween","date1","date2","timeIn","getDate","getMonth","one","date1Ms","getTime","setHours","dividedBy","event1","event2","start1","start2","end1","end2","_this6","_createInitRenderData","cellMaxEventsCount","_getSpan","newRowHeight","tmp","previousHeader","previousHeaderStart","_createHeaderEvent","renderItemsCount","RadioButton","Radio","RadioGroup","SchedulerHeader","_schedulerData$getCal","onViewChange","goNext","goBack","onSelectDate","leftCustomHeader","rightCustomHeader","_useState2","viewSpinning","setViewSpinning","_useState4","dateSpinning","setDateSpinning","_useState6","visible","setVisible","getDateLabel","getSelectedDate","calendarLocale","getCalendarPopoverLocale","Calendar","defaultValue","handleEvents","isViewSpinning","funcArg","coreFunc","setTimeout","popover","fullscreen","onSelect","radioButtonList","margin","gutter","Space","LeftOutlined","open","onOpenChange","RightOutlined","Spin","spinning","buttonStyle","size","onChange","WrapperFun","DndProvider","backend","HTML5Backend","HeaderView","nonAgendaCellHeaderTemplateResolver","minuteStepsInHour","headerList","datetime","pFormattedList","split","pitem","pList","formattedItem","pIndex","dateFormatPart","Scheduler","dndSources","parentRef","prevClick","nextClick","dndContext","dndProps","_toConsumableArray","contentScrollbarWidth","resourceScrollbarHeight","resourceScrollbarWidth","currentAreaRef","useRef","scrollLeftRef","scrollTopRef","schedulerHeadRef","schedulerHeaderRef","schedulerResourceRef","schedulerContentRef","schedulerContentBgTableRef","ulObserverRef","headerObserverRef","onWindowResize","useCallback","_setDocumentWidth","clientWidth","_setDocumentHeight","clientHeight","prevState","useEffect","offsetWidth","ResizeObserver","offsetHeight","observe","unobserve","entries","entry","node","getComputedStyle","parseFloat","marginBottom","totalHeight","_setSchedulerHeaderHeight","resolveScrollbarSize","needSet","tmpState","getScrollToSpecialDayjs","scrollWidth","specialDayjs","onSchedulerHeadMouseOver","onSchedulerHeadMouseOut","onSchedulerHeadScroll","onSchedulerResourceMouseOver","onSchedulerResourceMouseOut","onSchedulerResourceScroll","onSchedulerContentMouseOver","onSchedulerContentMouseOut","onSchedulerContentScroll","onScrollLeft","onScrollRight","onScrollTop","onScrollBottom","round","scrollHeight","handleViewChange","charAt","tbodyContent","schedulerContainerWidth","DndResourceEvents","getDropTarget","eventDndSource","getDndSource","contentHeight","resourcePaddingBottom","contentPaddingBottom","schedulerContentStyle","overflowX","overflowY","position","resourceContentStyle","maxHeight","availableHeight","getSchedulerHeight","display","verticalAlign","borderBottom","onMouseOver","onFocus","onMouseOut","onBlur","onScroll","paddingRight","schedulerHeader","colSpan","Link","to"],"sourceRoot":""}